{"version":3,"file":"js/app.32620f95.js","mappings":"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","sources":["webpack://hazardous-waste-management-frontend/./src/App.vue","webpack://hazardous-waste-management-frontend/./src/components/AppHeader.vue","webpack://hazardous-waste-management-frontend/./src/config/api.js","webpack://hazardous-waste-management-frontend/./src/views/UnitSelection.vue","webpack://hazardous-waste-management-frontend/./src/views/UnitSelection.vue?83cf","webpack://hazardous-waste-management-frontend/./src/views/WasteForm.vue","webpack://hazardous-waste-management-frontend/./src/views/WasteForm.vue?56c2","webpack://hazardous-waste-management-frontend/./src/views/RecordsList.vue","webpack://hazardous-waste-management-frontend/./src/utils/exportUtils.js","webpack://hazardous-waste-management-frontend/./src/views/RecordsList.vue?c4c8","webpack://hazardous-waste-management-frontend/./src/views/Login.vue","webpack://hazardous-waste-management-frontend/./src/views/Login.vue?240b","webpack://hazardous-waste-management-frontend/./src/views/EditRecord.vue","webpack://hazardous-waste-management-frontend/./src/views/EditRecord.vue?7d9b","webpack://hazardous-waste-management-frontend/./src/views/UserManagement.vue","webpack://hazardous-waste-management-frontend/./src/views/UserManagement.vue?8bda","webpack://hazardous-waste-management-frontend/./src/views/AdminRecords.vue","webpack://hazardous-waste-management-frontend/./src/views/AdminRecords.vue?960a","webpack://hazardous-waste-management-frontend/./src/router/index.js","webpack://hazardous-waste-management-frontend/./src/config/httpService.js","webpack://hazardous-waste-management-frontend/./src/store/auth.js","webpack://hazardous-waste-management-frontend/./src/components/AppHeader.vue?1f6a","webpack://hazardous-waste-management-frontend/./src/App.vue?7ccd","webpack://hazardous-waste-management-frontend/./src/main.js","webpack://hazardous-waste-management-frontend/webpack/bootstrap","webpack://hazardous-waste-management-frontend/webpack/runtime/chunk loaded","webpack://hazardous-waste-management-frontend/webpack/runtime/define property getters","webpack://hazardous-waste-management-frontend/webpack/runtime/global","webpack://hazardous-waste-management-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://hazardous-waste-management-frontend/webpack/runtime/make namespace object","webpack://hazardous-waste-management-frontend/webpack/runtime/jsonp chunk loading","webpack://hazardous-waste-management-frontend/webpack/startup"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <app-header v-if=\"showHeader\" />\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport AppHeader from './components/AppHeader.vue';\r\n\r\nexport default {\r\n  components: {\r\n    AppHeader\r\n  },\r\n  setup() {\r\n    const route = useRoute();\r\n    \r\n    // \r\n    const showHeader = computed(() => {\r\n      return route.path !== '/login';\r\n    });\r\n    \r\n    return {\r\n      showHeader\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\nhtml, body {\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 100%;\r\n  font-family: \"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif;\r\n}\r\n\r\n#app {\r\n  min-height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"app-header\">\r\n    <div class=\"header-title\">\r\n      <h1></h1>\r\n    </div>\r\n    <div class=\"user-info\" v-if=\"auth.state.isLoggedIn\">\r\n      <span class=\"welcome-text\">\r\n        ,\r\n        <strong>{{ userName }}</strong>\r\n        <span class=\"role-tag\">({{ auth.state.user.role }})</span>\r\n        <span v-if=\"auth.state.user.unit_name\" class=\"unit-tag\">\r\n          {{ auth.state.user.unit_name }}\r\n        </span>\r\n      </span>\r\n      <el-button type=\"text\" class=\"logout-button\" @click=\"handleLogout\">\r\n        \r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { ElMessage } from 'element-plus';\r\nimport auth from '../store/auth';\r\n\r\nexport default {\r\n  name: 'AppHeader',\r\n  setup() {\r\n    const router = useRouter();\r\n    \r\n    // \r\n    const userName = computed(() => {\r\n      if (!auth.state.isLoggedIn) return '';\r\n      return auth.state.user.username || auth.state.user.phone;\r\n    });\r\n    \r\n    // \r\n    const handleLogout = () => {\r\n      auth.logout();\r\n      ElMessage.success('');\r\n      router.push('/login');\r\n    };\r\n    \r\n    return {\r\n      auth,\r\n      userName,\r\n      handleLogout\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.app-header {\r\n  background-color: #409EFF;\r\n  color: white;\r\n  padding: 0 20px;\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.header-title h1 {\r\n  margin: 0;\r\n  font-size: 20px;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.welcome-text {\r\n  font-size: 14px;\r\n}\r\n\r\n.role-tag, .unit-tag {\r\n  font-size: 12px;\r\n  margin-left: 5px;\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.logout-button {\r\n  color: white;\r\n  font-weight: bold;\r\n  margin-left: 15px;\r\n}\r\n\r\n.logout-button:hover {\r\n  color: #f0f0f0;\r\n  background-color: rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.el-dropdown-link {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  color: white;\r\n}\r\n\r\n/*  */\r\n@media screen and (max-width: 768px) {\r\n  .app-header {\r\n    padding: 0 10px;\r\n    height: 50px;\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .header-title h1 {\r\n    font-size: 16px;\r\n  }\r\n  \r\n  .user-info {\r\n    gap: 10px;\r\n  }\r\n  \r\n  .welcome-text {\r\n    font-size: 12px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n  }\r\n  \r\n  .role-tag, .unit-tag {\r\n    font-size: 10px;\r\n    margin-left: 3px;\r\n    padding: 1px 4px;\r\n  }\r\n  \r\n  .logout-button {\r\n    margin-left: 5px;\r\n    padding: 4px 8px;\r\n  }\r\n}\r\n\r\n/*  */\r\n@media screen and (max-width: 480px) {\r\n  .app-header {\r\n    flex-direction: column;\r\n    height: auto;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .header-title {\r\n    margin-bottom: 5px;\r\n  }\r\n  \r\n  .user-info {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n  \r\n  .unit-tag {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","// API \r\n\r\n//  API  URL\r\n//  API\r\n// Nginx\r\nconst API_BASE_URL = '';\r\n\r\nexport default {\r\n  baseURL: API_BASE_URL,\r\n  \r\n  // API \r\n  endpoints: {\r\n    login: '/api/login',\r\n    users: '/api/users',\r\n    units: '/api/units',\r\n    wasteTypes: '/api/waste-types',\r\n    wasteRecords: '/api/waste-records',\r\n    wasteRecordsByUnit: '/api/waste-records',\r\n    wasteRecordDetail: '/api/waste-records/detail',\r\n    wasteRecordsByUser: '/api/waste-records/user',\r\n    exportWasteRecords: '/api/waste-records/export/user',\r\n  },\r\n  \r\n  //  API URL\r\n  getUrl(endpoint) {\r\n    return `${this.baseURL}${endpoint}`;\r\n  }\r\n};\r\n","<template>\r\n  <div class=\"unit-selection-container\">\r\n    <div class=\"header\">\r\n      <h1></h1>\r\n    </div>\r\n    <div class=\"content\">\r\n      <h2></h2>\r\n      <div class=\"units-grid\">\r\n        <el-card\r\n          v-for=\"unit in units\"\r\n          :key=\"unit.id\"\r\n          class=\"unit-card\"\r\n          shadow=\"hover\"\r\n          @click=\"selectUnit(unit)\"\r\n        >\r\n          <div class=\"unit-name\">{{ unit.name }}</div>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n    <div class=\"footer\">\r\n      <p>&copy; 2025 </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { ElMessage } from 'element-plus';\r\nimport api from '../config/api';\r\n\r\nexport default {\r\n  name: 'UnitSelection',\r\n  data() {\r\n    return {\r\n      units: [],\r\n      loading: false\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchUnits();\r\n  },\r\n  methods: {\r\n    async fetchUnits() {\r\n      this.loading = true;\r\n      try {\r\n        console.log('...');\r\n        const response = await axios.get(api.getUrl(api.endpoints.units));\r\n        console.log(':', response.data);\r\n        this.units = response.data;\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    selectUnit(unit) {\r\n      this.$router.push({ name: 'WasteForm', params: { id: unit.id } });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.unit-selection-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh;\r\n}\r\n\r\n.header {\r\n  background-color: #409EFF;\r\n  color: white;\r\n  padding: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.content {\r\n  flex: 1;\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  color: #333;\r\n}\r\n\r\n.units-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.unit-card {\r\n  height: 100px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.unit-card:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.unit-name {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  text-align: center;\r\n}\r\n\r\n.footer {\r\n  background-color: #f5f5f5;\r\n  padding: 15px;\r\n  text-align: center;\r\n  color: #666;\r\n}\r\n</style>\r\n","import { render } from \"./UnitSelection.vue?vue&type=template&id=a706bc72&scoped=true\"\nimport script from \"./UnitSelection.vue?vue&type=script&lang=js\"\nexport * from \"./UnitSelection.vue?vue&type=script&lang=js\"\n\nimport \"./UnitSelection.vue?vue&type=style&index=0&id=a706bc72&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a706bc72\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"waste-form-container\">\r\n    <div class=\"header\">\r\n      <div class=\"back-button\" @click=\"goBack\" v-if=\"isAdmin\">\r\n        <el-icon><arrow-left /></el-icon> \r\n      </div>\r\n      <div v-else></div>\r\n      <h1></h1>\r\n      <div class=\"view-records\" @click=\"viewRecords\">\r\n         <el-icon><document /></el-icon>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n      <div class=\"unit-info\">\r\n        <h2>{{ unitName }}</h2>\r\n      </div>\r\n\r\n      <el-form \r\n        ref=\"wasteForm\" \r\n        :model=\"form\" \r\n        :rules=\"rules\" \r\n        label-position=\"top\"\r\n        class=\"waste-form\"\r\n      >\r\n        <el-form-item label=\"\" prop=\"wasteTypeId\">\r\n          <el-select v-model=\"form.wasteTypeId\" placeholder=\"\" style=\"width: 100%\">\r\n            <el-option \r\n              v-for=\"type in wasteTypes\" \r\n              :key=\"type.id\" \r\n              :label=\"type.name\" \r\n              :value=\"type.id\" \r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"\" prop=\"location\">\r\n          <el-input v-model=\"form.location\" placeholder=\"\" />\r\n        </el-form-item>\r\n\r\n        <div class=\"form-row\">\r\n          <el-form-item label=\"\" class=\"date-item\">\r\n            <el-date-picker\r\n              v-model=\"form.collectionDate\"\r\n              type=\"date\"\r\n              placeholder=\"\"\r\n              format=\"YYYY-MM-DD\"\r\n              value-format=\"YYYY-MM-DD\"\r\n              style=\"width: 100%\"\r\n              :editable=\"false\"\r\n              popper-class=\"date-picker-popup\"\r\n              :teleported=\"false\"\r\n            />\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"\" class=\"time-item\">\r\n            <el-time-picker\r\n              v-model=\"form.collectionTime\"\r\n              format=\"HH:mm\"\r\n              placeholder=\"\"\r\n              value-format=\"HH:mm\"\r\n              style=\"width: 100%\"\r\n              :editable=\"false\"\r\n              popper-class=\"time-picker-popup\"\r\n              :teleported=\"false\"\r\n            >\r\n              <template #prefix>\r\n                <el-icon><clock /></el-icon>\r\n              </template>\r\n            </el-time-picker>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <el-form-item label=\"()\" prop=\"quantity\">\r\n          <el-input-number\r\n            v-model=\"form.quantity\"\r\n            :min=\"0\"\r\n            :precision=\"3\"\r\n            :step=\"0.001\"\r\n            style=\"width: 100%\"\r\n            @focus=\"selectAllText($event)\"\r\n            :input-props=\"{\r\n              inputmode: 'decimal',\r\n              pattern: '[0-9]*[.,]?[0-9]*'\r\n            }\"\r\n            :controls=\"false\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"\" prop=\"photo_before\">\r\n          <div class=\"photo-tip\">5</div>\r\n          <div class=\"upload-warning\" v-if=\"showLargeFileWarning\">\r\n            <el-alert\r\n              title=\"\"\r\n              type=\"warning\"\r\n              :closable=\"false\"\r\n              show-icon\r\n            />\r\n          </div>\r\n          <el-upload\r\n            class=\"waste-photo-uploader\"\r\n            action=\"#\"\r\n            :auto-upload=\"false\"\r\n            :on-change=\"handlePhotoBeforeChange\"\r\n            :on-remove=\"handlePhotoBeforeRemove\"\r\n            :file-list=\"fileListBefore\"\r\n            :limit=\"5\"\r\n            multiple\r\n            list-type=\"picture-card\"\r\n            :before-upload=\"handleBeforeUpload\"\r\n            accept=\"image/jpeg,image/jpg,image/png,image/gif,image/bmp,image/webp,.jpeg,.jpg,.png,.gif,.bmp,.webp\"\r\n          >\r\n            <el-icon><plus /></el-icon>\r\n          </el-upload>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"\" prop=\"photo_after\">\r\n          <div class=\"photo-tip\">5</div>\r\n          <el-upload\r\n            class=\"waste-photo-uploader\"\r\n            action=\"#\"\r\n            :auto-upload=\"false\"\r\n            :on-change=\"handlePhotoAfterChange\"\r\n            :on-remove=\"handlePhotoAfterRemove\"\r\n            :file-list=\"fileListAfter\"\r\n            :limit=\"5\"\r\n            multiple\r\n            list-type=\"picture-card\"\r\n            :before-upload=\"handleBeforeUpload\"\r\n            accept=\"image/jpeg,image/jpg,image/png,image/gif,image/bmp,image/webp,.jpeg,.jpg,.png,.gif,.bmp,.webp\"\r\n          >\r\n            <el-icon><plus /></el-icon>\r\n          </el-upload>\r\n        </el-form-item>\r\n\r\n        <div class=\"form-actions\">\r\n          <el-button type=\"primary\" class=\"submit-btn\" @click=\"submitForm\" :loading=\"loading\"></el-button>\r\n          <el-button class=\"reset-btn\" @click=\"resetForm\"></el-button>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <el-dialog\r\n      v-model=\"showUploadProgress\"\r\n      title=\"\"\r\n      width=\"30%\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      :show-close=\"false\"\r\n    >\r\n      <div class=\"upload-progress\">\r\n        <p>...</p>\r\n        <el-progress \r\n          :percentage=\"uploadPercentage\" \r\n          :format=\"percentageFormat\"\r\n          :status=\"uploadPercentage === 100 ? 'success' : ''\"\r\n        ></el-progress>\r\n        <p class=\"upload-status\">{{ uploadStatus }}</p>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <div class=\"footer\">\r\n      <p>&copy; 2025 </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, onMounted, computed, onBeforeUnmount } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { ElMessage } from 'element-plus';\r\nimport httpService from '../config/httpService';\r\nimport apiConfig from '../config/api';\r\nimport { ArrowLeft, Document, Plus, Clock } from '@element-plus/icons-vue';\r\nimport auth from '../store/auth';\r\n\r\nexport default {\r\n  name: 'WasteForm',\r\n  components: {\r\n    ArrowLeft,\r\n    Document,\r\n    Plus,\r\n    Clock\r\n  },\r\n  props: {\r\n    id: {\r\n      type: [String, Number],\r\n      required: true\r\n    }\r\n  },\r\n  setup(props) {\r\n    const router = useRouter();\r\n    const wasteForm = ref(null);\r\n    const loading = ref(false);\r\n    const unitName = ref('');\r\n    const wasteTypes = ref([]);\r\n    const photoFilesBefore = ref([]);\r\n    const photoFilesAfter = ref([]);\r\n    const fileListBefore = ref([]);\r\n    const fileListAfter = ref([]);\r\n    const showUploadProgress = ref(false);\r\n    const uploadPercentage = ref(0);\r\n    const uploadStatus = ref('...');\r\n    const showLargeFileWarning = ref(false);\r\n    \r\n    // \r\n    const isAdmin = computed(() => {\r\n      return auth.state.isLoggedIn && auth.state.user.role_id === 3;\r\n    });\r\n\r\n    // \r\n    const form = reactive({\r\n      wasteTypeId: '',\r\n      location: '',\r\n      collectionDate: new Date().toISOString().slice(0, 10), // \r\n      collectionTime: '08:00',\r\n      quantity: undefined,\r\n      photo_before: [],\r\n      photo_after: []\r\n    });\r\n\r\n    const rules = {\r\n      wasteTypeId: [\r\n        { required: true, message: '', trigger: 'change' }\r\n      ],\r\n      location: [\r\n        { required: true, message: '', trigger: 'blur' }\r\n      ],\r\n      collectionDate: [\r\n        { required: false }\r\n      ],\r\n      collectionTime: [\r\n        { required: false }\r\n      ],\r\n      quantity: [\r\n        { required: true, message: '', trigger: 'change' }\r\n      ]\r\n    };\r\n\r\n    onMounted(async () => {\r\n      // viewport meta\r\n      const viewportMeta = document.createElement('meta');\r\n      viewportMeta.setAttribute('name', 'viewport');\r\n      viewportMeta.setAttribute('content', 'width=device-width,initial-scale=1.0,user-scalable=no,maximum-scale=1');\r\n      document.head.appendChild(viewportMeta);\r\n\r\n      // viewport meta\r\n      const originalViewport = document.querySelector('meta[name=\"viewport\"]');\r\n      if (originalViewport && originalViewport !== viewportMeta) {\r\n        originalViewport.remove();\r\n      }\r\n\r\n      await fetchUnitName();\r\n      await fetchWasteTypes();\r\n    });\r\n\r\n    onBeforeUnmount(() => {\r\n      // viewport meta\r\n      const viewportMeta = document.querySelector('meta[name=\"viewport\"]');\r\n      if (viewportMeta) {\r\n        viewportMeta.remove();\r\n      }\r\n\r\n      // viewport\r\n      const originalViewport = document.createElement('meta');\r\n      originalViewport.setAttribute('name', 'viewport');\r\n      originalViewport.setAttribute('content', 'width=device-width,initial-scale=1.0');\r\n      document.head.appendChild(originalViewport);\r\n    });\r\n\r\n    const fetchUnitName = async () => {\r\n      try {\r\n        const response = await httpService.get(apiConfig.endpoints.units);\r\n        const unit = response.data.find(u => u.id === parseInt(props.id));\r\n        if (unit) {\r\n          unitName.value = unit.name;\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching unit name:', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n\r\n    const fetchWasteTypes = async () => {\r\n      try {\r\n        const response = await httpService.get(apiConfig.endpoints.wasteTypes);\r\n        wasteTypes.value = response.data;\r\n      } catch (error) {\r\n        console.error('Error fetching waste types:', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n\r\n    // \r\n    const handleBeforeUpload = async (file) => {\r\n      // \r\n      const acceptedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/bmp', 'image/webp'];\r\n      const isImage = acceptedTypes.includes(file.type);\r\n      \r\n      if (!isImage) {\r\n        ElMessage.error('!');\r\n        return false;\r\n      }\r\n\r\n      // 50MB = 50 * 1024 * 1024 bytes\r\n      const maxSize = 50 * 1024 * 1024;\r\n      if (file.size > maxSize) {\r\n        ElMessage.error('50MB!');\r\n        return false;\r\n      }\r\n      \r\n      // \r\n      const largeFileThreshold = 5 * 1024 * 1024; // 5MB\r\n      if (file.size > largeFileThreshold) {\r\n        showLargeFileWarning.value = true;\r\n      }\r\n      \r\n      // true\r\n      return true;\r\n    };\r\n\r\n    // \r\n    const handlePhotoBeforeChange = (file, fileList) => {\r\n      // \r\n      console.log(':', file);\r\n      fileListBefore.value = fileList;\r\n      \r\n      // \r\n      const newFiles = fileList.filter(f => f.raw && !photoFilesBefore.value.some(pf => pf.name === f.raw.name));\r\n      \r\n      // photoFilesBefore\r\n      newFiles.forEach(newFile => {\r\n        if (newFile.raw) {\r\n          photoFilesBefore.value.push(newFile.raw);\r\n        }\r\n      });\r\n      \r\n      // \r\n      const allFiles = [...photoFilesBefore.value, ...photoFilesAfter.value];\r\n      showLargeFileWarning.value = checkForLargeFiles(allFiles);\r\n      \r\n      console.log('photoFilesBefore:', photoFilesBefore.value);\r\n    };\r\n\r\n    // \r\n    const handlePhotoBeforeRemove = (file, fileList) => {\r\n      console.log(':', file);\r\n      fileListBefore.value = fileList;\r\n      \r\n      // photoFilesBefore\r\n      if (file.raw) {\r\n        photoFilesBefore.value = photoFilesBefore.value.filter(f => \r\n          f.name !== file.raw.name\r\n        );\r\n      } else {\r\n        // rawuidname\r\n        photoFilesBefore.value = photoFilesBefore.value.filter(f => \r\n          f.uid !== file.uid && f.name !== file.name\r\n        );\r\n      }\r\n      \r\n      // \r\n      if (!checkForLargeFiles([...photoFilesBefore.value, ...photoFilesAfter.value])) {\r\n        showLargeFileWarning.value = false;\r\n      }\r\n      \r\n      console.log('photoFilesBefore:', photoFilesBefore.value);\r\n    };\r\n\r\n    // \r\n    const handlePhotoAfterChange = (file, fileList) => {\r\n      // \r\n      console.log(':', file);\r\n      fileListAfter.value = fileList;\r\n      \r\n      // \r\n      const newFiles = fileList.filter(f => f.raw && !photoFilesAfter.value.some(pf => pf.name === f.raw.name));\r\n      \r\n      // photoFilesAfter\r\n      newFiles.forEach(newFile => {\r\n        if (newFile.raw) {\r\n          photoFilesAfter.value.push(newFile.raw);\r\n        }\r\n      });\r\n      \r\n      // \r\n      const allFiles = [...photoFilesBefore.value, ...photoFilesAfter.value];\r\n      showLargeFileWarning.value = checkForLargeFiles(allFiles);\r\n      \r\n      console.log('photoFilesAfter:', photoFilesAfter.value);\r\n    };\r\n\r\n    // \r\n    const handlePhotoAfterRemove = (file, fileList) => {\r\n      console.log(':', file);\r\n      fileListAfter.value = fileList;\r\n      \r\n      // photoFilesAfter\r\n      if (file.raw) {\r\n        photoFilesAfter.value = photoFilesAfter.value.filter(f => \r\n          f.name !== file.raw.name\r\n        );\r\n      } else {\r\n        // rawuidname\r\n        photoFilesAfter.value = photoFilesAfter.value.filter(f => \r\n          f.uid !== file.uid && f.name !== file.name\r\n        );\r\n      }\r\n      \r\n      // \r\n      if (!checkForLargeFiles([...photoFilesBefore.value, ...photoFilesAfter.value])) {\r\n        showLargeFileWarning.value = false;\r\n      }\r\n      \r\n      console.log('photoFilesAfter:', photoFilesAfter.value);\r\n    };\r\n\r\n    // \r\n    const checkForLargeFiles = (files) => {\r\n      const largeFileThreshold = 5 * 1024 * 1024; // 5MB\r\n      return files.some(file => file.size > largeFileThreshold);\r\n    };\r\n\r\n    // \r\n    const handleUploadProgress = (progressEvent) => {\r\n      if (progressEvent.total) {\r\n        const percentage = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n        uploadPercentage.value = percentage;\r\n        \r\n        if (percentage < 33) {\r\n          uploadStatus.value = '...';\r\n        } else if (percentage < 66) {\r\n          uploadStatus.value = '...';\r\n        } else if (percentage < 100) {\r\n          uploadStatus.value = '...';\r\n        } else {\r\n          uploadStatus.value = '...';\r\n        }\r\n      }\r\n    };\r\n\r\n    // \r\n    const percentageFormat = (percentage) => {\r\n      return percentage === 100 ? '' : `${percentage}%`;\r\n    };\r\n\r\n    const submitForm = () => {\r\n      wasteForm.value.validate(async (valid) => {\r\n        if (valid) {\r\n          loading.value = true;\r\n          try {\r\n            const formData = new FormData();\r\n            formData.append('unitId', props.id);\r\n            formData.append('wasteTypeId', form.wasteTypeId);\r\n            formData.append('location', form.location);\r\n            \r\n            // \r\n            if (form.collectionDate && form.collectionTime) {\r\n              formData.append('collectionDate', form.collectionDate);\r\n              formData.append('collectionTime', form.collectionTime);\r\n            }\r\n            formData.append('quantity', form.quantity);\r\n            \r\n            // ID\r\n            if (auth.state.isLoggedIn && auth.state.user) {\r\n              formData.append('creator_id', auth.state.user.id);\r\n              // usernamephone\r\n              const creatorName = auth.state.user.username || auth.state.user.phone || '';\r\n              formData.append('creator_name', creatorName);\r\n              console.log(':', {\r\n                creator_id: auth.state.user.id,\r\n                creator_name: creatorName,\r\n                user: auth.state.user\r\n              });\r\n            } else {\r\n              console.log('');\r\n            }\r\n            \r\n            console.log(':', {\r\n              unitId: props.id,\r\n              wasteTypeId: form.wasteTypeId,\r\n              location: form.location,\r\n              quantity: form.quantity,\r\n              photo_before: photoFilesBefore.value ? photoFilesBefore.value.length : 0,\r\n              photo_after: photoFilesAfter.value ? photoFilesAfter.value.length : 0\r\n            });\r\n            \r\n            // \r\n            if (photoFilesBefore.value && photoFilesBefore.value.length > 0) {\r\n              console.log(':', photoFilesBefore.value.length);\r\n              photoFilesBefore.value.forEach((file, index) => {\r\n                if (file) {\r\n                  console.log(` ${index+1}:`, file.name);\r\n                  formData.append('photo_before', file);\r\n                }\r\n              });\r\n            }\r\n            \r\n            // \r\n            if (photoFilesAfter.value && photoFilesAfter.value.length > 0) {\r\n              console.log(':', photoFilesAfter.value.length);\r\n              photoFilesAfter.value.forEach((file, index) => {\r\n                if (file) {\r\n                  console.log(` ${index+1}:`, file.name);\r\n                  formData.append('photo_after', file);\r\n                }\r\n              });\r\n            }\r\n\r\n            // \r\n            const allFiles = [...(photoFilesBefore.value || []), ...(photoFilesAfter.value || [])];\r\n            showLargeFileWarning.value = checkForLargeFiles(allFiles);\r\n            \r\n            // \r\n            if (allFiles.length > 0) {\r\n              showUploadProgress.value = true;\r\n              uploadPercentage.value = 0;\r\n              uploadStatus.value = '...';\r\n            }\r\n\r\n            const response = await httpService.postForm(\r\n              apiConfig.endpoints.wasteRecords, \r\n              formData,\r\n              handleUploadProgress\r\n            );\r\n            \r\n            console.log(':', response.data);\r\n\r\n            ElMessage.success('');\r\n            resetForm();\r\n          } catch (error) {\r\n            console.error('Error submitting form:', error);\r\n            if (error.response) {\r\n              console.error(':', error.response.data);\r\n              console.error(':', error.response.status);\r\n            }\r\n            ElMessage.error('');\r\n          } finally {\r\n            loading.value = false;\r\n            showUploadProgress.value = false;\r\n          }\r\n        } else {\r\n          ElMessage.warning('');\r\n        }\r\n      });\r\n    };\r\n\r\n    const resetForm = () => {\r\n      if (wasteForm.value) {\r\n        wasteForm.value.resetFields();\r\n      }\r\n      photoFilesBefore.value = [];\r\n      photoFilesAfter.value = [];\r\n      fileListBefore.value = [];\r\n      fileListAfter.value = [];\r\n      form.quantity = undefined;\r\n      form.collectionDate = new Date().toISOString().slice(0, 10); // \r\n      form.collectionTime = '08:00'; // \r\n    };\r\n\r\n    const goBack = () => {\r\n      // \r\n      if (isAdmin.value) {\r\n        router.push('/');\r\n      }\r\n    };\r\n\r\n    const viewRecords = () => {\r\n      router.push({ name: 'RecordsList', params: { unitId: props.id } });\r\n    };\r\n\r\n    const selectAllText = (event) => {\r\n      // setTimeoutDOM\r\n      setTimeout(() => {\r\n        if (event && event.target) {\r\n          // el-input-numberinput\r\n          const inputEl = event.target.querySelector('input');\r\n          if (inputEl) {\r\n            inputEl.select();\r\n          }\r\n        }\r\n      }, 10);\r\n    };\r\n\r\n    return {\r\n      form,\r\n      rules,\r\n      wasteForm,\r\n      loading,\r\n      unitName,\r\n      wasteTypes,\r\n      isAdmin,\r\n      fileListBefore,\r\n      fileListAfter,\r\n      handlePhotoBeforeChange,\r\n      handlePhotoBeforeRemove,\r\n      handlePhotoAfterChange,\r\n      handlePhotoAfterRemove,\r\n      handleBeforeUpload,\r\n      submitForm,\r\n      resetForm,\r\n      goBack,\r\n      viewRecords,\r\n      selectAllText,\r\n      showUploadProgress,\r\n      uploadPercentage,\r\n      uploadStatus,\r\n      percentageFormat,\r\n      showLargeFileWarning\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.waste-form-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh;\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.header {\r\n  background-color: #409EFF;\r\n  color: white;\r\n  padding: 12px 16px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.header h1 {\r\n  font-size: 18px;\r\n  margin: 0;\r\n  font-weight: 500;\r\n}\r\n\r\n.back-button, .view-records {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  font-size: 14px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.content {\r\n  flex: 1;\r\n  padding: 16px;\r\n  max-width: 100%;\r\n  margin: 0 auto;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.unit-info {\r\n  text-align: center;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.unit-info h2 {\r\n  color: #333;\r\n  border-bottom: 2px solid #409EFF;\r\n  display: inline-block;\r\n  padding-bottom: 5px;\r\n  font-size: 18px;\r\n  margin: 0;\r\n}\r\n\r\n.waste-form {\r\n  background-color: #ffffff;\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.form-row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .form-row {\r\n    flex-direction: row;\r\n  }\r\n  \r\n  .date-item, .time-item {\r\n    flex: 1;\r\n  }\r\n  \r\n  .content {\r\n    padding: 24px;\r\n    max-width: 800px;\r\n  }\r\n  \r\n  .header h1 {\r\n    font-size: 22px;\r\n  }\r\n}\r\n\r\n.waste-photo-uploader {\r\n  width: 100%;\r\n}\r\n\r\n.waste-photo-uploader :deep(.el-upload--picture-card) {\r\n  width: 80px;\r\n  height: 80px;\r\n  line-height: 80px;\r\n}\r\n\r\n.waste-photo-uploader :deep(.el-upload-list--picture-card .el-upload-list__item) {\r\n  width: 80px;\r\n  height: 80px;\r\n}\r\n\r\n.photo-tip, .time-tip {\r\n  font-size: 12px;\r\n  color: #666;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 12px;\r\n  margin-top: 24px;\r\n}\r\n\r\n.submit-btn, .reset-btn {\r\n  width: 45%;\r\n  height: 44px;\r\n  font-size: 16px;\r\n  border-radius: 8px;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .form-actions {\r\n    justify-content: flex-start;\r\n  }\r\n  \r\n  .submit-btn, .reset-btn {\r\n    width: auto;\r\n  }\r\n}\r\n\r\n.footer {\r\n  background-color: #f5f5f5;\r\n  padding: 12px;\r\n  text-align: center;\r\n  color: #666;\r\n  font-size: 12px;\r\n}\r\n\r\n:deep(.el-form-item__label) {\r\n  font-size: 15px;\r\n  font-weight: 500;\r\n  color: #333;\r\n  padding-bottom: 4px;\r\n}\r\n\r\n:deep(.el-input__inner), \r\n:deep(.el-select__input), \r\n:deep(.el-input-number__decrease), \r\n:deep(.el-input-number__increase) {\r\n  height: 44px;\r\n  font-size: 15px;\r\n}\r\n\r\n:deep(.el-button) {\r\n  font-size: 15px;\r\n  padding: 12px 20px;\r\n}\r\n\r\n:deep(.el-select-dropdown__item) {\r\n  font-size: 15px;\r\n  padding: 12px 20px;\r\n}\r\n\r\n:deep(.el-date-editor.el-input), \r\n:deep(.el-date-editor.el-input__inner) {\r\n  width: 100%;\r\n}\r\n\r\n:deep(.el-form-item) {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n:deep(.date-picker-popup),\r\n:deep(.time-picker-popup) {\r\n  touch-action: none;\r\n}\r\n\r\n:deep(.el-input__wrapper) {\r\n  cursor: pointer;\r\n}\r\n\r\n:deep(.el-input__inner) {\r\n  -webkit-tap-highlight-color: transparent;\r\n  user-select: none;\r\n}\r\n\r\n.upload-warning {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.upload-progress {\r\n  text-align: center;\r\n  padding: 10px;\r\n}\r\n\r\n.upload-status {\r\n  margin-top: 10px;\r\n  color: #606266;\r\n  font-size: 14px;\r\n}\r\n</style>\r\n","import { render } from \"./WasteForm.vue?vue&type=template&id=53fa8846&scoped=true\"\nimport script from \"./WasteForm.vue?vue&type=script&lang=js\"\nexport * from \"./WasteForm.vue?vue&type=script&lang=js\"\n\nimport \"./WasteForm.vue?vue&type=style&index=0&id=53fa8846&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-53fa8846\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"records-container\">\r\n    <div class=\"header\">\r\n      <div class=\"back-button\" @click=\"goBack\">\r\n        <el-icon><arrow-left /></el-icon> \r\n      </div>\r\n      <h1></h1>\r\n      <div class=\"home-link\" @click=\"goHome\" v-if=\"isAdmin\">\r\n         <el-icon><home /></el-icon>\r\n      </div>\r\n      <div v-else></div>\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n      <div class=\"unit-info\">\r\n        <h2>{{ unitName }} - </h2>\r\n      </div>\r\n      \r\n      <div class=\"actions\">\r\n        <el-button type=\"primary\" @click=\"addNewRecord\">\r\n          <el-icon><plus /></el-icon> \r\n        </el-button>\r\n        <el-button type=\"success\" @click=\"goToUserManagement\" v-if=\"isAdmin || isUnitAdmin\">\r\n          <el-icon><user /></el-icon> \r\n        </el-button>\r\n        <el-button @click=\"refreshRecords\">\r\n          <el-icon><refresh /></el-icon> \r\n        </el-button>\r\n      </div>\r\n      \r\n      <!--  -->\r\n      <el-card class=\"filter-card\">\r\n        <div class=\"filter-header\">\r\n          <h3></h3>\r\n          <el-button type=\"primary\" link @click=\"showFilterPanel = !showFilterPanel\">\r\n            {{ showFilterPanel ? '' : '' }} \r\n            <el-icon v-if=\"!showFilterPanel\"><arrow-down /></el-icon>\r\n            <el-icon v-else><arrow-up /></el-icon>\r\n          </el-button>\r\n        </div>\r\n        \r\n        <div v-show=\"showFilterPanel\" class=\"filter-form-container\">\r\n          <el-form :model=\"filterForm\" label-width=\"100px\" class=\"filter-form\">\r\n            <el-row :gutter=\"20\">\r\n              <!--  -->\r\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\r\n                <el-form-item label=\"\">\r\n                  <el-date-picker\r\n                    v-model=\"filterForm.dateRange\"\r\n                    type=\"daterange\"\r\n                    range-separator=\"\"\r\n                    start-placeholder=\"\"\r\n                    end-placeholder=\"\"\r\n                    format=\"YYYY-MM-DD\"\r\n                    value-format=\"YYYY-MM-DD\"\r\n                    style=\"width: 100%\"\r\n                  />\r\n                </el-form-item>\r\n              </el-col>\r\n              \r\n              <!--  -->\r\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\r\n                <el-form-item label=\"\">\r\n                  <el-select v-model=\"filterForm.wasteTypeId\" placeholder=\"\" style=\"width: 100%\" clearable>\r\n                    <el-option \r\n                      v-for=\"type in wasteTypes\" \r\n                      :key=\"type.id\" \r\n                      :label=\"type.name\" \r\n                      :value=\"type.id\" \r\n                    />\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            \r\n            <el-row :gutter=\"20\">\r\n              <!--  -->\r\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\r\n                <el-form-item label=\"()\">\r\n                  <div class=\"quantity-range\">\r\n                    <el-input-number \r\n                      v-model=\"filterForm.minQuantity\" \r\n                      :min=\"0\"\r\n                      :precision=\"3\"\r\n                      :step=\"0.001\"\r\n                      placeholder=\"\"\r\n                      style=\"width: 48%\"\r\n                    />\r\n                    <span class=\"range-separator\"></span>\r\n                    <el-input-number \r\n                      v-model=\"filterForm.maxQuantity\" \r\n                      :min=\"filterForm.minQuantity || 0\"\r\n                      :precision=\"3\"\r\n                      :step=\"0.001\"\r\n                      placeholder=\"\"\r\n                      style=\"width: 48%\"\r\n                    />\r\n                  </div>\r\n                </el-form-item>\r\n              </el-col>\r\n              \r\n              <!--  -->\r\n              <el-col :xs=\"24\" :sm=\"24\" :md=\"12\" :lg=\"12\" :xl=\"12\">\r\n                <el-form-item label=\"\">\r\n                  <el-input \r\n                    v-model=\"filterForm.location\" \r\n                    placeholder=\"\" \r\n                    clearable\r\n                  />\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            \r\n            <div class=\"filter-actions\">\r\n              <el-button type=\"primary\" @click=\"applyFilter\"></el-button>\r\n              <el-button @click=\"resetFilter\"></el-button>\r\n            </div>\r\n          </el-form>\r\n        </div>\r\n      </el-card>\r\n      \r\n      <div class=\"records-wrapper\">\r\n        <el-card class=\"records-card\">\r\n          <div class=\"card-header\">\r\n            <h3></h3>\r\n            <div class=\"card-actions\">\r\n              <el-button type=\"warning\" @click=\"exportRecords\">\r\n                <el-icon><download /></el-icon> \r\n              </el-button>\r\n            </div>\r\n          </div>\r\n          \r\n          <el-table \r\n            :data=\"filteredRecords\" \r\n            style=\"width: 100%\" \r\n            border \r\n            v-loading=\"loading\"\r\n            stripe\r\n            class=\"responsive-table\"\r\n            height=\"500\"\r\n            @scroll=\"handleScroll\"\r\n          >\r\n            <el-table-column prop=\"waste_type_name\" label=\"\" min-width=\"110\" />\r\n            <el-table-column prop=\"location\" label=\"\" min-width=\"120\" />\r\n            <el-table-column label=\"\" min-width=\"160\">\r\n              <template #default=\"scope\">\r\n                {{ parseFormattedDateTime(scope.row.collection_start_time) }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"()\" min-width=\"100\">\r\n              <template #default=\"scope\">\r\n                {{ parseFloat(scope.row.quantity).toFixed(3) }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"\" min-width=\"160\" class=\"mobile-hidden\">\r\n              <template #default=\"scope\">\r\n                {{ parseFormattedDateTime(scope.row.created_at) }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"\" min-width=\"100\" class=\"mobile-hidden\">\r\n              <template #default=\"scope\">\r\n                {{ scope.row.creator_name || '' }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              label=\"\"\r\n              width=\"120\"\r\n              align=\"center\"\r\n            >\r\n              <template #default=\"scope\">\r\n                <div v-if=\"scope.row.photo_path_before\" class=\"photo-preview\">\r\n                  <!--  -->\r\n                  <div \r\n                    v-for=\"(path, index) in parsePhotoPath(scope.row.photo_path_before)\" \r\n                    :key=\"index\"\r\n                    class=\"photo-thumbnail-container\"\r\n                    @click=\"previewPhoto(parsePhotoPath(scope.row.photo_path_before), index)\"\r\n                  >\r\n                    <el-image\r\n                      style=\"width: 50px; height: 50px\"\r\n                      :src=\"`${baseUrl}${path}`\"\r\n                      fit=\"cover\"\r\n                    ></el-image>\r\n                  </div>\r\n                  <div v-if=\"parsePhotoPath(scope.row.photo_path_before).length > 1\" class=\"photo-count\">\r\n                    {{ parsePhotoPath(scope.row.photo_path_before).length }}\r\n                  </div>\r\n                </div>\r\n                <span v-else></span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              label=\"\"\r\n              width=\"120\"\r\n              align=\"center\"\r\n            >\r\n              <template #default=\"scope\">\r\n                <div v-if=\"scope.row.photo_path_after\" class=\"photo-preview\">\r\n                  <!--  -->\r\n                  <div \r\n                    v-for=\"(path, index) in parsePhotoPath(scope.row.photo_path_after)\" \r\n                    :key=\"index\"\r\n                    class=\"photo-thumbnail-container\"\r\n                    @click=\"previewPhoto(parsePhotoPath(scope.row.photo_path_after), index)\"\r\n                  >\r\n                    <el-image\r\n                      style=\"width: 50px; height: 50px\"\r\n                      :src=\"`${baseUrl}${path}`\"\r\n                      fit=\"cover\"\r\n                    ></el-image>\r\n                  </div>\r\n                  <div v-if=\"parsePhotoPath(scope.row.photo_path_after).length > 1\" class=\"photo-count\">\r\n                    {{ parsePhotoPath(scope.row.photo_path_after).length }}\r\n                  </div>\r\n                </div>\r\n                <span v-else></span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"\" min-width=\"70\" fixed=\"right\">\r\n              <template #default=\"scope\">\r\n                <div class=\"operation-buttons\">\r\n                  <el-button \r\n                    type=\"primary\" \r\n                    size=\"small\" \r\n                    @click=\"editRecord(scope.row.id)\"\r\n                    text\r\n                    v-if=\"canEdit(scope.row)\"\r\n                  >\r\n                    \r\n                  </el-button>\r\n                  <el-button \r\n                    type=\"danger\" \r\n                    size=\"small\" \r\n                    @click=\"confirmDelete(scope.row)\"\r\n                    text\r\n                    v-if=\"canEdit(scope.row)\"\r\n                  >\r\n                    \r\n                  </el-button>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          \r\n          <div v-if=\"loadingMore\" class=\"loading-more\">\r\n            <el-icon class=\"loading\"><loading /></el-icon>\r\n            ...\r\n          </div>\r\n          \r\n          <div class=\"empty-block\" v-if=\"records.length === 0 && !loading\">\r\n            <el-empty description=\"\" />\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"footer\">\r\n      <p>&copy; 2025 </p>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <el-image-viewer\r\n      v-if=\"showViewer\"\r\n      :url-list=\"previewImages\"\r\n      :initial-index=\"previewIndex\"\r\n      @close=\"closeViewer\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed, reactive } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { ElMessage, ElMessageBox, ElImageViewer } from 'element-plus';\r\nimport httpService from '../config/httpService';\r\nimport apiConfig from '../config/api';\r\nimport { ArrowLeft, Home, Refresh, Plus, User, ArrowDown, ArrowUp, Download, Loading } from '@element-plus/icons-vue';\r\nimport { exportToExcel } from '../utils/exportUtils';\r\nimport auth from '../store/auth';\r\n\r\nexport default {\r\n  name: 'RecordsList',\r\n  components: {\r\n    ArrowLeft,\r\n    Home,\r\n    Refresh,\r\n    Plus,\r\n    User,\r\n    ArrowDown,\r\n    ArrowUp,\r\n    Download,\r\n    ElImageViewer,\r\n    Loading\r\n  },\r\n  props: {\r\n    unitId: {\r\n      type: [String, Number],\r\n      required: true\r\n    }\r\n  },\r\n  setup(props) {\r\n    const router = useRouter();\r\n    const records = ref([]);\r\n    const loading = ref(false);\r\n    const unitName = ref('');\r\n    const wasteTypes = ref([]);\r\n    const showFilterPanel = ref(true);\r\n    \r\n    // baseUrl\r\n    const baseUrl = apiConfig.baseURL;\r\n    \r\n    // \r\n    const parsePhotoPath = (path) => {\r\n      if (!path) return [];\r\n      \r\n      try {\r\n        // JSON\r\n        if (path.startsWith('[') && path.endsWith(']')) {\r\n          return JSON.parse(path);\r\n        }\r\n        // JSON\r\n        return [path];\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        // \r\n        return [path];\r\n      }\r\n    };\r\n    \r\n    // \r\n    const page = ref(1);\r\n    const pageSize = ref(20);\r\n    const hasMore = ref(true);\r\n    const loadingMore = ref(false);\r\n    \r\n    // \r\n    const filterForm = reactive({\r\n      dateRange: null,\r\n      wasteTypeId: null,\r\n      minQuantity: null,\r\n      maxQuantity: null,\r\n      location: ''\r\n    });\r\n    \r\n    // \r\n    const filteredRecords = computed(() => {\r\n      if (!records.value || !Array.isArray(records.value)) {\r\n        return [];\r\n      }\r\n      \r\n      return records.value.filter(record => {\r\n        // \r\n        if (filterForm.wasteTypeId && record.waste_type_id !== filterForm.wasteTypeId) {\r\n          return false;\r\n        }\r\n        \r\n        // \r\n        if (filterForm.minQuantity !== null && parseFloat(record.quantity) < filterForm.minQuantity) {\r\n          return false;\r\n        }\r\n        if (filterForm.maxQuantity !== null && parseFloat(record.quantity) > filterForm.maxQuantity) {\r\n          return false;\r\n        }\r\n        \r\n        // \r\n        if (filterForm.location && !record.location.toLowerCase().includes(filterForm.location.toLowerCase())) {\r\n          return false;\r\n        }\r\n        \r\n        // \r\n        if (filterForm.dateRange && filterForm.dateRange.length === 2) {\r\n          const startDate = new Date(filterForm.dateRange[0]);\r\n          const endDate = new Date(filterForm.dateRange[1]);\r\n          endDate.setHours(23, 59, 59); // \r\n          \r\n          const recordDate = new Date(record.collection_start_time);\r\n          if (recordDate < startDate || recordDate > endDate) {\r\n            return false;\r\n          }\r\n        }\r\n        \r\n        return true;\r\n      });\r\n    });\r\n    \r\n    // \r\n    const isAdmin = computed(() => {\r\n      return auth.isAdmin();\r\n    });\r\n    \r\n    // \r\n    const isUnitAdmin = computed(() => {\r\n      return auth.isUnitAdmin();\r\n    });\r\n    \r\n    // \r\n    const parseFormattedDateTime = (dateTimeStr) => {\r\n      if (!dateTimeStr) return '';\r\n      const date = new Date(dateTimeStr);\r\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\r\n    };\r\n    \r\n    // \r\n    const refreshRecords = async () => {\r\n      await fetchRecords();\r\n      ElMessage.success('');\r\n    };\r\n    \r\n    // \r\n    const goBack = () => {\r\n      // ID\r\n      const unitId = auth.getUnitId();\r\n      if (unitId) {\r\n        router.push(`/unit/${unitId}`);\r\n      } else {\r\n        // ID\r\n        router.push('/');\r\n      }\r\n    };\r\n    \r\n    // \r\n    const goHome = () => {\r\n      router.push('/');\r\n    };\r\n    \r\n    // \r\n    const goToUserManagement = () => {\r\n      router.push(`/user-management`);\r\n    };\r\n    \r\n    // \r\n    const addNewRecord = () => {\r\n      router.push(`/unit/${props.unitId}`);\r\n    };\r\n    \r\n    // \r\n    const editRecord = (recordId) => {\r\n      router.push(`/record/${recordId}`);\r\n    };\r\n    \r\n    // \r\n    const canEdit = (record) => {\r\n      if (!record) return false;\r\n      \r\n      // \r\n      if (isAdmin.value) return true;\r\n      \r\n      // \r\n      const unitId = auth.getUnitId();\r\n      if (isUnitAdmin.value && unitId && record.unit_id === parseInt(unitId)) return true;\r\n      \r\n      // \r\n      const userId = auth.getUserId();\r\n      return userId && record.creator_id === parseInt(userId);\r\n    };\r\n    \r\n    // \r\n    const confirmDelete = (record) => {\r\n      ElMessageBox.confirm(\r\n        ``,\r\n        '',\r\n        {\r\n          confirmButtonText: '',\r\n          cancelButtonText: '',\r\n          type: 'warning',\r\n        }\r\n      )\r\n        .then(async () => {\r\n          try {\r\n            await httpService.delete(`${apiConfig.endpoints.wasteRecords}/${record.id}`);\r\n            ElMessage.success('');\r\n            await fetchRecords(); // \r\n          } catch (error) {\r\n            console.error(':', error);\r\n            ElMessage.error('');\r\n          }\r\n        })\r\n        .catch(() => {\r\n          ElMessage.info('');\r\n        });\r\n    };\r\n    \r\n    // \r\n    const applyFilter = async () => {\r\n      try {\r\n        // \r\n        page.value = 1;\r\n        \r\n        // \r\n        await fetchRecords();\r\n        \r\n        ElMessage.success('');\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n    \r\n    // \r\n    const resetFilter = async () => {\r\n      filterForm.dateRange = null;\r\n      filterForm.wasteTypeId = null;\r\n      filterForm.minQuantity = null;\r\n      filterForm.maxQuantity = null;\r\n      filterForm.location = '';\r\n      \r\n      // \r\n      page.value = 1;\r\n      \r\n      // \r\n      await fetchRecords();\r\n      \r\n      ElMessage.success('');\r\n    };\r\n    \r\n    // \r\n    const exportRecords = () => {\r\n      // API\r\n      try {\r\n        const userId = auth.getUserId();\r\n        if (!userId) {\r\n          ElMessage.error('');\r\n          return;\r\n        }\r\n        \r\n        // \r\n        const params = {};\r\n        if (filterForm.wasteTypeId) params.wasteTypeId = filterForm.wasteTypeId;\r\n        if (filterForm.minQuantity !== null) params.minQuantity = filterForm.minQuantity;\r\n        if (filterForm.maxQuantity !== null) params.maxQuantity = filterForm.maxQuantity;\r\n        if (filterForm.location) params.location = filterForm.location;\r\n        if (filterForm.dateRange && filterForm.dateRange.length === 2) {\r\n          params.dateRange = JSON.stringify(filterForm.dateRange);\r\n        }\r\n        \r\n        // \r\n        const dataToExport = filteredRecords.value.map(record => ({\r\n          '': unitName.value,\r\n          '': record.waste_type_name,\r\n          '': record.location,\r\n          '': parseFormattedDateTime(record.collection_start_time),\r\n          '(kg)': record.quantity,\r\n          '': parseFormattedDateTime(record.created_at),\r\n          '': record.creator_name || ''\r\n        }));\r\n        \r\n        const headers = [\r\n          { title: '', field: '' },\r\n          { title: '', field: '' },\r\n          { title: '', field: '' },\r\n          { title: '', field: '' },\r\n          { title: '(kg)', field: '(kg)', type: 'number' },\r\n          { title: '', field: '' },\r\n          { title: '', field: '' }\r\n        ];\r\n        \r\n        exportToExcel(dataToExport, `${unitName.value}`, headers);\r\n        ElMessage.success('');\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n    \r\n    // \r\n    const showViewer = ref(false);\r\n    const previewImages = ref([]);\r\n    const previewIndex = ref(0);\r\n    \r\n    // \r\n    const previewPhoto = (paths, index) => {\r\n      // paths\r\n      const photoArray = Array.isArray(paths) ? paths : [paths];\r\n      previewImages.value = photoArray.map(path => `${baseUrl}${path}`);\r\n      previewIndex.value = index || 0;\r\n      showViewer.value = true;\r\n    };\r\n    \r\n    // \r\n    const closeViewer = () => {\r\n      showViewer.value = false;\r\n    };\r\n\r\n    onMounted(async () => {\r\n      await fetchUnitName();\r\n      await fetchWasteTypes();\r\n      await fetchRecords();\r\n    });\r\n\r\n    // \r\n    const fetchWasteTypes = async () => {\r\n      try {\r\n        const response = await httpService.get(apiConfig.endpoints.wasteTypes);\r\n        wasteTypes.value = response.data;\r\n      } catch (error) {\r\n        console.error('Error fetching waste types:', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n    \r\n    const fetchUnitName = async () => {\r\n      try {\r\n        const response = await httpService.get(apiConfig.endpoints.units);\r\n        const unit = response.data.find(u => u.id === parseInt(props.unitId));\r\n        if (unit) {\r\n          unitName.value = unit.name;\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching unit name:', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n\r\n    const fetchRecords = async (isLoadMore = false) => {\r\n      if (!isLoadMore) {\r\n        loading.value = true;\r\n        page.value = 1;\r\n        records.value = [];\r\n      } else {\r\n        loadingMore.value = true;\r\n      }\r\n      \r\n      try {\r\n        // \r\n        const params = {\r\n          page: page.value,\r\n          pageSize: pageSize.value\r\n        };\r\n        \r\n        // \r\n        if (filterForm.wasteTypeId) params.wasteTypeId = filterForm.wasteTypeId;\r\n        if (filterForm.minQuantity !== null) params.minQuantity = filterForm.minQuantity;\r\n        if (filterForm.maxQuantity !== null) params.maxQuantity = filterForm.maxQuantity;\r\n        if (filterForm.location) params.location = filterForm.location;\r\n        if (filterForm.dateRange && filterForm.dateRange.length === 2) {\r\n          params.dateRange = JSON.stringify(filterForm.dateRange);\r\n        }\r\n        \r\n        // ID\r\n        const userId = auth.getUserId();\r\n        if (!userId) {\r\n          throw new Error('');\r\n        }\r\n        \r\n        // ID\r\n        const response = await httpService.get(`${apiConfig.endpoints.wasteRecordsByUser}/${userId}`, { params });\r\n        \r\n        // records\r\n        if (response.data && Array.isArray(response.data.records)) {\r\n          if (isLoadMore) {\r\n            records.value = [...records.value, ...response.data.records];\r\n          } else {\r\n            records.value = response.data.records;\r\n          }\r\n          \r\n          hasMore.value = !!response.data.hasMore;\r\n        } else {\r\n          console.error('Invalid response format:', response.data);\r\n          records.value = [];\r\n          hasMore.value = false;\r\n          ElMessage.error('');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching records:', error);\r\n        records.value = [];\r\n        hasMore.value = false;\r\n        ElMessage.error('');\r\n      } finally {\r\n        loading.value = false;\r\n        loadingMore.value = false;\r\n      }\r\n    };\r\n    \r\n    // \r\n    const handleScroll = async (e) => {\r\n      // e.target\r\n      if (!e || !e.target) return;\r\n      \r\n      const scrollHeight = e.target.scrollHeight || 0;\r\n      const scrollTop = e.target.scrollTop || 0;\r\n      const clientHeight = e.target.clientHeight || 0;\r\n      \r\n      // \r\n      if (scrollHeight - scrollTop - clientHeight < 50 && hasMore.value && !loadingMore.value) {\r\n        page.value++;\r\n        await fetchRecords(true);\r\n      }\r\n    };\r\n\r\n    return {\r\n      records,\r\n      filteredRecords,\r\n      loading,\r\n      unitName,\r\n      wasteTypes,\r\n      isAdmin,\r\n      isUnitAdmin,\r\n      parseFormattedDateTime,\r\n      refreshRecords,\r\n      goBack,\r\n      goHome,\r\n      goToUserManagement,\r\n      addNewRecord,\r\n      editRecord,\r\n      canEdit,\r\n      confirmDelete,\r\n      apiConfig,\r\n      // \r\n      showFilterPanel,\r\n      filterForm,\r\n      applyFilter,\r\n      resetFilter,\r\n      // \r\n      exportRecords,\r\n      // \r\n      showViewer,\r\n      previewImages,\r\n      previewIndex,\r\n      previewPhoto,\r\n      closeViewer,\r\n      handleScroll,\r\n      // \r\n      parsePhotoPath,\r\n      baseUrl,\r\n      // \r\n      page,\r\n      pageSize,\r\n      hasMore,\r\n      loadingMore\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.records-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh;\r\n}\r\n\r\n.header {\r\n  background-color: #409EFF;\r\n  color: white;\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.back-button, .home-link {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  font-size: 16px;\r\n}\r\n\r\n.content {\r\n  flex: 1;\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.unit-info {\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.unit-info h2 {\r\n  color: #333;\r\n  margin: 0;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-bottom: 20px;\r\n  gap: 10px;\r\n}\r\n\r\n.filter-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.filter-header h3 {\r\n  margin: 0;\r\n  color: #333;\r\n}\r\n\r\n.filter-form-container {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.filter-form {\r\n  margin-top: 15px;\r\n}\r\n\r\n.quantity-range {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.range-separator {\r\n  margin: 0 5px;\r\n}\r\n\r\n.filter-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 20px;\r\n  gap: 10px;\r\n}\r\n\r\n.records-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header h3 {\r\n  margin: 0;\r\n  color: #333;\r\n}\r\n\r\n.card-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.record-image {\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 4px;\r\n  object-fit: cover;\r\n}\r\n\r\n.photo-thumbnail-container {\r\n  cursor: pointer;\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.photo-count {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  text-align: center;\r\n  margin-top: 2px;\r\n}\r\n\r\n.photo-preview {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.image-error {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 80px;\r\n  height: 80px;\r\n  background-color: #f5f7fa;\r\n  color: #909399;\r\n  font-size: 20px;\r\n}\r\n\r\n.operation-buttons {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.operation-buttons .el-button {\r\n  width: 80%;\r\n  margin-left: 0;\r\n  margin-right: 0;\r\n  text-align: center;\r\n  justify-content: center;\r\n}\r\n\r\n.footer {\r\n  background-color: #f5f7fa;\r\n  padding: 15px;\r\n  text-align: center;\r\n  color: #606266;\r\n}\r\n\r\n.loading-more {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 10px;\r\n  color: #909399;\r\n}\r\n\r\n.loading {\r\n  animation: rotating 2s linear infinite;\r\n  margin-right: 5px;\r\n}\r\n\r\n@keyframes rotating {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.empty-block {\r\n  padding: 30px;\r\n  text-align: center;\r\n}\r\n\r\n/*  */\r\n@media (max-width: 768px) {\r\n  .header {\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    text-align: center;\r\n  }\r\n  \r\n  .content {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .card-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 10px;\r\n  }\r\n  \r\n  .card-actions {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n  \r\n  .mobile-hidden {\r\n    display: none;\r\n  }\r\n  \r\n  .operation-buttons {\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .action-buttons {\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n  }\r\n  \r\n  .action-buttons .el-button {\r\n    flex: 1;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .filter-header {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    gap: 10px;\r\n  }\r\n  \r\n  .header-left {\r\n    width: 100%;\r\n  }\r\n  \r\n  .action-buttons {\r\n    width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n  \r\n  .action-buttons .el-button {\r\n    flex: 1;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style> ","// CSV\r\n\r\n/**\r\n * CSV\r\n * @param {Array} data - \r\n * @param {String} fileName - \r\n * @param {Array} headers - \r\n */\r\nexport const exportToExcel = (data, fileName, headers) => {\r\n  // \r\n  if (!data || data.length === 0) {\r\n    return;\r\n  }\r\n\r\n  // \r\n  const safeFileName = fileName || '';\r\n  const fileNameWithExtension = `${safeFileName}_${new Date().toISOString().slice(0, 10)}.csv`;\r\n\r\n  // CSV\r\n  let csvContent = '\\uFEFF'; // BOMExcel\r\n  \r\n  // \r\n  const headerRow = headers.map(header => header.title).join(',');\r\n  csvContent += headerRow + '\\n';\r\n\r\n  // \r\n  data.forEach(item => {\r\n    const row = headers.map(header => {\r\n      let value = item[header.field];\r\n      \r\n      // nullundefined\r\n      if (value === null || value === undefined) {\r\n        return '';\r\n      }\r\n      \r\n      // \r\n      if (header.type === 'number') {\r\n        // 3\r\n        return typeof value === 'number' ? value.toFixed(3) : parseFloat(value).toFixed(3);\r\n      }\r\n      \r\n      // \r\n      value = String(value);\r\n      if (value.includes(',') || value.includes('\"') || value.includes('\\n')) {\r\n        return `\"${value.replace(/\"/g, '\"\"')}\"`;\r\n      }\r\n      \r\n      return value;\r\n    }).join(',');\r\n    \r\n    csvContent += row + '\\n';\r\n  });\r\n\r\n  // \r\n  const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n  const link = document.createElement('a');\r\n  \r\n  // URL.createObjectURLURL\r\n  const url = URL.createObjectURL(blob);\r\n  link.setAttribute('href', url);\r\n  link.setAttribute('download', fileNameWithExtension);\r\n  link.style.visibility = 'hidden';\r\n  \r\n  // \r\n  document.body.appendChild(link);\r\n  link.click();\r\n  \r\n  // \r\n  document.body.removeChild(link);\r\n  URL.revokeObjectURL(url);\r\n};\r\n","import { render } from \"./RecordsList.vue?vue&type=template&id=f78b334c&scoped=true\"\nimport script from \"./RecordsList.vue?vue&type=script&lang=js\"\nexport * from \"./RecordsList.vue?vue&type=script&lang=js\"\n\nimport \"./RecordsList.vue?vue&type=style&index=0&id=f78b334c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f78b334c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-card\">\r\n      <div class=\"login-header\">\r\n        <h1></h1>\r\n        <h2></h2>\r\n      </div>\r\n      \r\n      <el-form \r\n        ref=\"loginForm\" \r\n        :model=\"form\" \r\n        :rules=\"rules\" \r\n        label-width=\"80px\"\r\n        class=\"login-form\"\r\n        @submit.prevent=\"submitForm\"\r\n      >\r\n        <el-form-item label=\"\" prop=\"phone\">\r\n          <el-input \r\n            v-model=\"form.phone\" \r\n            placeholder=\"\" \r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item v-if=\"showPassword\" label=\"\" prop=\"password\">\r\n          <el-input \r\n            v-model=\"form.password\" \r\n            type=\"password\" \r\n            placeholder=\"\" \r\n            show-password\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-radio-group v-model=\"form.userType\" @change=\"handleUserTypeChange\">\r\n            <el-radio :label=\"1\"></el-radio>\r\n            <el-radio :label=\"2\"></el-radio>\r\n            <el-radio :label=\"3\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-checkbox v-model=\"form.rememberMe\"></el-checkbox>\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-button \r\n            type=\"primary\" \r\n            native-type=\"submit\"\r\n            @click=\"submitForm\" \r\n            :loading=\"auth.state.loading\"\r\n            style=\"width: 100%\"\r\n          >\r\n            \r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      \r\n      <div v-if=\"auth.state.error\" class=\"login-error\">\r\n        {{ auth.state.error }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref, computed, onMounted } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { ElMessage } from 'element-plus';\r\nimport auth from '../store/auth';\r\n\r\n/* eslint-disable vue/multi-word-component-names */\r\nexport default {\r\n  name: 'LoginView',\r\n  setup() {\r\n    const router = useRouter();\r\n    const loginForm = ref(null);\r\n    \r\n    const form = reactive({\r\n      phone: '',\r\n      password: '',\r\n      userType: 1, // \r\n      rememberMe: false // \r\n    });\r\n    \r\n    // \r\n    const showPassword = computed(() => form.userType !== 1);\r\n    \r\n    // \r\n    const rules = computed(() => {\r\n      const phoneRules = [\r\n        { required: true, message: '', trigger: 'submit' },\r\n        { pattern: /^1[3-9]\\d{9}$/, message: '', trigger: 'submit' }\r\n      ];\r\n      \r\n      const passwordRules = showPassword.value ? [\r\n        { required: true, message: '', trigger: 'submit' }\r\n      ] : [];\r\n      \r\n      return {\r\n        phone: phoneRules,\r\n        password: passwordRules\r\n      };\r\n    });\r\n    \r\n    // \r\n    const handleUserTypeChange = () => {\r\n      if (form.userType === 1) {\r\n        form.password = '';\r\n      }\r\n      if (loginForm.value) {\r\n        loginForm.value.clearValidate();\r\n      }\r\n    };\r\n    \r\n    // \r\n    const submitForm = async () => {\r\n      console.log('');\r\n      if (!loginForm.value) {\r\n        console.log('');\r\n        return;\r\n      }\r\n      \r\n      // \r\n      if (auth.state.loading) {\r\n        console.log('');\r\n        return;\r\n      }\r\n      \r\n      // \r\n      if (form.userType === 1) {\r\n        console.log('');\r\n        //  - \r\n        loginForm.value.validate(async (valid) => {\r\n          if (valid) {\r\n            console.log('');\r\n            await doLogin();\r\n          } else {\r\n            console.log('');\r\n            // \r\n          }\r\n        });\r\n      } else {\r\n        console.log('');\r\n        // \r\n        loginForm.value.validate(async (valid) => {\r\n          if (valid) {\r\n            console.log('');\r\n            await doLogin();\r\n          } else {\r\n            console.log('');\r\n            // \r\n            // ElMessage.warning('');\r\n          }\r\n        });\r\n      }\r\n    };\r\n    \r\n    // \r\n    const doLogin = async () => {\r\n      console.log(':', form.phone, ':', form.userType);\r\n      try {\r\n        // \r\n        console.log('...');\r\n        \r\n        // \r\n        const result = await auth.login(\r\n          form.phone,\r\n          form.userType === 1 ? null : form.password,\r\n          form.rememberMe,\r\n          form.userType\r\n        );\r\n        \r\n        console.log(':', result);\r\n        \r\n        if (result.success) {\r\n          const user = result.user;\r\n          \r\n          ElMessage.success(`${user.username || user.phone}`);\r\n          \r\n          // \r\n          if (user.role_id === 3) {\r\n            // \r\n            router.push('/admin-records');\r\n          } else if (user.role_id === 2) {\r\n            // \r\n            router.push(`/records/${user.unit_id}`);\r\n          } else {\r\n            // \r\n            router.push(`/unit/${user.unit_id}`);\r\n          }\r\n        } else {\r\n          // \r\n          ElMessage.error(result.error || '');\r\n        }\r\n      } catch (error) {\r\n        // \r\n        ElMessage.error(error.response?.data?.error || '');\r\n      }\r\n    };\r\n    \r\n    // \r\n    onMounted(() => {\r\n      if (auth.state.isLoggedIn) {\r\n        const user = auth.state.user;\r\n        if (user.role_id === 3) {\r\n          router.push('/admin-records');\r\n        } else if (user.role_id === 2) {\r\n          router.push(`/records/${user.unit_id}`);\r\n        } else {\r\n          router.push(`/unit/${user.unit_id}`);\r\n        }\r\n      }\r\n    });\r\n    \r\n    return {\r\n      form,\r\n      rules,\r\n      loginForm,\r\n      showPassword,\r\n      handleUserTypeChange,\r\n      submitForm,\r\n      auth\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background-color: #f0f2f5;\r\n  padding: 15px;\r\n}\r\n\r\n.login-card {\r\n  width: 400px;\r\n  padding: 30px;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.login-header {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.login-header h1 {\r\n  font-size: 24px;\r\n  color: #409EFF;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.login-header h2 {\r\n  font-size: 18px;\r\n  color: #555;\r\n  font-weight: normal;\r\n}\r\n\r\n.login-form {\r\n  margin-top: 20px;\r\n}\r\n\r\n.login-error {\r\n  color: #f56c6c;\r\n  text-align: center;\r\n  margin-top: 15px;\r\n  font-size: 14px;\r\n}\r\n\r\n/*  */\r\n@media screen and (max-width: 480px) {\r\n  .login-card {\r\n    width: 100%;\r\n    padding: 20px;\r\n    box-shadow: none;\r\n  }\r\n  \r\n  .login-header h1 {\r\n    font-size: 20px;\r\n  }\r\n  \r\n  .login-header h2 {\r\n    font-size: 16px;\r\n  }\r\n  \r\n  .el-form-item {\r\n    margin-bottom: 15px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=7ee4feb4&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=7ee4feb4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ee4feb4\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"edit-record-container\">\r\n    <div class=\"header\">\r\n      <div class=\"back-button\" @click=\"goBack\">\r\n        <el-icon><arrow-left /></el-icon> \r\n      </div>\r\n      <h1>{{ isNew ? '' : '' }}</h1>\r\n      <div></div>\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n      <div class=\"form-header\">\r\n        <h2>{{ unitName }}</h2>\r\n      </div>\r\n\r\n      <el-form \r\n        ref=\"recordForm\" \r\n        :model=\"form\" \r\n        :rules=\"rules\" \r\n        label-width=\"120px\"\r\n        class=\"record-form\"\r\n        v-loading=\"loading\"\r\n      >\r\n        <!--  -->\r\n        <el-form-item label=\"\" prop=\"unitId\" v-if=\"isSuperAdmin && isNew\">\r\n          <el-select v-model=\"form.unitId\" placeholder=\"\" style=\"width: 100%\">\r\n            <el-option \r\n              v-for=\"unit in units\" \r\n              :key=\"unit.id\" \r\n              :label=\"unit.name\" \r\n              :value=\"unit.id\" \r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"\" prop=\"wasteTypeId\">\r\n          <el-select v-model=\"form.wasteTypeId\" placeholder=\"\" style=\"width: 100%\">\r\n            <el-option \r\n              v-for=\"type in wasteTypes\" \r\n              :key=\"type.id\" \r\n              :label=\"type.name\" \r\n              :value=\"type.id\" \r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"\" prop=\"location\">\r\n          <el-input v-model=\"form.location\" placeholder=\"\" />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"\">\r\n          <el-date-picker\r\n            v-model=\"form.collectionDate\"\r\n            type=\"date\"\r\n            placeholder=\"\"\r\n            format=\"YYYY-MM-DD\"\r\n            value-format=\"YYYY-MM-DD\"\r\n            style=\"width: 100%\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"\">\r\n          <el-time-picker\r\n            v-model=\"form.collectionTime\"\r\n            format=\"HH:mm\"\r\n            placeholder=\"\"\r\n            value-format=\"HH:mm\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <template #prefix>\r\n              <el-icon><clock /></el-icon>\r\n            </template>\r\n          </el-time-picker>\r\n          <!-- <div class=\"time-tip\"></div> -->\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"()\" prop=\"quantity\">\r\n          <el-input-number \r\n            v-model=\"form.quantity\" \r\n            :min=\"0\" \r\n            :precision=\"3\" \r\n            :step=\"0.001\" \r\n            style=\"width: 100%\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"\" prop=\"photo_path_before\">\r\n          <div class=\"photo-tip\">5</div>\r\n          <div class=\"upload-warning\" v-if=\"showLargeFileWarning\">\r\n            <el-alert\r\n              title=\"\"\r\n              type=\"warning\"\r\n              :closable=\"false\"\r\n              show-icon\r\n            />\r\n          </div>\r\n          <el-upload\r\n            class=\"waste-photo-uploader\"\r\n            action=\"#\"\r\n            :auto-upload=\"false\"\r\n            :on-change=\"handlePhotoBeforeChange\"\r\n            :on-remove=\"handlePhotoBeforeRemove\"\r\n            :file-list=\"fileListBefore\"\r\n            :limit=\"5\"\r\n            multiple\r\n            list-type=\"picture-card\"\r\n            :on-preview=\"handlePictureCardPreview\"\r\n            :before-upload=\"handleBeforeUpload\"\r\n            accept=\"image/jpeg,image/jpg,image/png,image/gif,image/bmp,image/webp,.jpeg,.jpg,.png,.gif,.bmp,.webp\"\r\n          >\r\n            <el-icon><plus /></el-icon>\r\n          </el-upload>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"\" prop=\"photo_path_after\">\r\n          <div class=\"photo-tip\">5</div>\r\n          <el-upload\r\n            class=\"waste-photo-uploader\"\r\n            action=\"#\"\r\n            :auto-upload=\"false\"\r\n            :on-change=\"handlePhotoAfterChange\"\r\n            :on-remove=\"handlePhotoAfterRemove\"\r\n            :file-list=\"fileListAfter\"\r\n            :limit=\"5\"\r\n            multiple\r\n            list-type=\"picture-card\"\r\n            :on-preview=\"handlePictureCardPreview\"\r\n            :before-upload=\"handleBeforeUpload\"\r\n            accept=\"image/jpeg,image/jpg,image/png,image/gif,image/bmp,image/webp,.jpeg,.jpg,.png,.gif,.bmp,.webp\"\r\n          >\r\n            <el-icon><plus /></el-icon>\r\n          </el-upload>\r\n          \r\n          <!--  -->\r\n          <el-image-viewer\r\n            v-if=\"showViewer\"\r\n            :url-list=\"previewImages\"\r\n            :initial-index=\"previewIndex\"\r\n            @close=\"closeViewer\"\r\n          />\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm\" :loading=\"loading\"></el-button>\r\n          <el-button @click=\"goBack\"></el-button>\r\n        </el-form-item>\r\n        \r\n        <!--  -->\r\n        <el-collapse v-if=\"!isNew\">\r\n          <el-collapse-item title=\"\">\r\n            <div>\r\n              <h4>:</h4>\r\n              <div v-for=\"(file, index) in fileListBefore\" :key=\"'before-'+index\">\r\n                <div>: {{ file.name }}</div>\r\n                <div>URL: {{ file.url }}</div>\r\n                <div>\r\n                  <img :src=\"file.url\" style=\"max-width: 200px; max-height: 200px;\" />\r\n                </div>\r\n                <hr />\r\n              </div>\r\n              \r\n              <h4>:</h4>\r\n              <div v-for=\"(file, index) in fileListAfter\" :key=\"'after-'+index\">\r\n                <div>: {{ file.name }}</div>\r\n                <div>URL: {{ file.url }}</div>\r\n                <div>\r\n                  <img :src=\"file.url\" style=\"max-width: 200px; max-height: 200px;\" />\r\n                </div>\r\n                <hr />\r\n              </div>\r\n            </div>\r\n          </el-collapse-item>\r\n        </el-collapse>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <el-dialog\r\n      v-model=\"showUploadProgress\"\r\n      title=\"\"\r\n      width=\"30%\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      :show-close=\"false\"\r\n    >\r\n      <div class=\"upload-progress\">\r\n        <p>...</p>\r\n        <el-progress \r\n          :percentage=\"uploadPercentage\" \r\n          :format=\"percentageFormat\"\r\n          :status=\"uploadPercentage === 100 ? 'success' : ''\"\r\n        ></el-progress>\r\n        <p class=\"upload-status\">{{ uploadStatus }}</p>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <div class=\"footer\">\r\n      <p>&copy; 2025 </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, onMounted, computed } from 'vue';\r\nimport { useRouter, useRoute } from 'vue-router';\r\nimport { ElMessage, ElImageViewer } from 'element-plus';\r\nimport httpService from '../config/httpService';\r\nimport apiConfig from '../config/api';\r\nimport { ArrowLeft, Plus, Clock } from '@element-plus/icons-vue';\r\nimport auth from '../store/auth';\r\n\r\nexport default {\r\n  name: 'EditRecordView',\r\n  components: {\r\n    ArrowLeft,\r\n    Plus,\r\n    Clock,\r\n    ElImageViewer\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n    const recordForm = ref(null);\r\n    const loading = ref(false);\r\n    const submitting = ref(false);\r\n    const unitName = ref('');\r\n    const wasteTypes = ref([]);\r\n    const units = ref([]);\r\n    const fileListBefore = ref([]);\r\n    const fileListAfter = ref([]);\r\n    const previewImages = ref([]);\r\n    const showViewer = ref(false);\r\n    const previewIndex = ref(0);\r\n    const createdAt = ref('');\r\n    const showUploadProgress = ref(false);\r\n    const uploadPercentage = ref(0);\r\n    const uploadStatus = ref('...');\r\n    const showLargeFileWarning = ref(false);\r\n    \r\n    // \r\n    const parsePhotoPath = (path) => {\r\n      if (!path) return [];\r\n      \r\n      console.log(':', path, ':', typeof path);\r\n      \r\n      try {\r\n        // \r\n        if (Array.isArray(path)) {\r\n          console.log(':', path);\r\n          return path;\r\n        }\r\n        \r\n        // JSON\r\n        if (typeof path === 'string') {\r\n          // JSON\r\n          if (path.startsWith('[') && path.endsWith(']')) {\r\n            const parsed = JSON.parse(path);\r\n            console.log('JSON:', parsed);\r\n            return parsed;\r\n          }\r\n          \r\n          // \r\n          if (path.includes(',')) {\r\n            const paths = path.split(',').map(p => p.trim()).filter(p => p);\r\n            console.log(':', paths);\r\n            return paths;\r\n          }\r\n          \r\n          // \r\n          console.log(':', [path]);\r\n          return [path];\r\n        }\r\n        \r\n        // \r\n        console.log(':', String(path));\r\n        return [String(path)];\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        // \r\n        return typeof path === 'string' ? [path] : [];\r\n      }\r\n    };\r\n    \r\n    // \r\n    const isNew = computed(() => {\r\n      return !route.params.id || route.params.id === 'new';\r\n    });\r\n    \r\n    // \r\n    const isSuperAdmin = computed(() => {\r\n      return auth.state.isLoggedIn && auth.state.user.role_id === 3;\r\n    });\r\n    \r\n    // \r\n    const form = reactive({\r\n      unitId: '',\r\n      wasteTypeId: '',\r\n      location: '',\r\n      collectionDate: '',\r\n      collectionTime: '',\r\n      quantity: 0,\r\n      recordId: null,\r\n      creatorId: auth.state.user?.id || null,\r\n      photo_path_before: '',\r\n      photo_path_after: '',\r\n      remarks: ''\r\n    });\r\n\r\n    const rules = {\r\n      unitId: [\r\n        { required: true, message: '', trigger: 'change' }\r\n      ],\r\n      wasteTypeId: [\r\n        { required: true, message: '', trigger: 'change' }\r\n      ],\r\n      location: [\r\n        { required: true, message: '', trigger: 'blur' }\r\n      ],\r\n      collectionDate: [\r\n        { required: false }\r\n      ],\r\n      collectionTime: [\r\n        { required: false }\r\n      ],\r\n      quantity: [\r\n        { required: true, message: '', trigger: 'change' }\r\n      ]\r\n    };\r\n\r\n    onMounted(async () => {\r\n      loading.value = true;\r\n      \r\n      try {\r\n        // \r\n        await fetchWasteTypes();\r\n        \r\n        // \r\n        if (isSuperAdmin.value) {\r\n          await fetchUnits();\r\n        }\r\n        \r\n        // \r\n        if (isNew.value) {\r\n          // \r\n          if (!isSuperAdmin.value && auth.state.user) {\r\n            form.unitId = auth.state.user.unit_id;\r\n            await fetchUnitName(form.unitId);\r\n          }\r\n        } else {\r\n          // \r\n          await fetchRecordDetails();\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    });\r\n\r\n    // \r\n    const fetchUnits = async () => {\r\n      try {\r\n        const response = await httpService.get(apiConfig.endpoints.units);\r\n        units.value = response.data;\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n\r\n    // \r\n    const fetchUnitName = async (unitId) => {\r\n      try {\r\n        const response = await httpService.get(apiConfig.endpoints.units);\r\n        const unit = response.data.find(u => u.id === parseInt(unitId));\r\n        if (unit) {\r\n          unitName.value = unit.name;\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error);\r\n      }\r\n    };\r\n\r\n    // \r\n    const fetchWasteTypes = async () => {\r\n      try {\r\n        const response = await httpService.get(apiConfig.endpoints.wasteTypes);\r\n        wasteTypes.value = response.data;\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n\r\n    // \r\n    const fetchRecordDetails = async () => {\r\n      try {\r\n        loading.value = true;\r\n        const response = await httpService.get(`${apiConfig.endpoints.wasteRecords}/detail/${route.params.id}`);\r\n        \r\n        const record = response.data;\r\n        console.log(':', record);\r\n        \r\n        form.unitId = record.unit_id;\r\n        form.wasteTypeId = record.waste_type_id;\r\n        form.location = record.location;\r\n        form.recordId = record.id;\r\n        \r\n        // \r\n        if (record.collection_start_time) {\r\n          const dateTime = new Date(record.collection_start_time);\r\n          form.collectionDate = dateTime.toISOString().slice(0, 10);\r\n          form.collectionTime = dateTime.toTimeString().slice(0, 5);\r\n        }\r\n        \r\n        form.quantity = record.quantity;\r\n        \r\n        // \r\n        if (record.photo_path_before) {\r\n          console.log(':', record.photo_path_before);\r\n          const photoPaths = parsePhotoPath(record.photo_path_before);\r\n          console.log(':', photoPaths);\r\n          \r\n          fileListBefore.value = photoPaths.map(path => {\r\n            // URL\r\n            let fullUrl = path;\r\n            if (!path.startsWith('http')) {\r\n              // \r\n              const cleanPath = path.startsWith('/') ? path.substring(1) : path;\r\n              fullUrl = `${window.location.origin}/${cleanPath}`;\r\n            }\r\n            \r\n            console.log('URL:', fullUrl);\r\n            \r\n            return {\r\n              name: path.split('/').pop(),\r\n              url: fullUrl\r\n            };\r\n          });\r\n        }\r\n        \r\n        if (record.photo_path_after) {\r\n          console.log(':', record.photo_path_after);\r\n          const photoPaths = parsePhotoPath(record.photo_path_after);\r\n          console.log(':', photoPaths);\r\n          \r\n          fileListAfter.value = photoPaths.map(path => {\r\n            // URL\r\n            let fullUrl = path;\r\n            if (!path.startsWith('http')) {\r\n              // \r\n              const cleanPath = path.startsWith('/') ? path.substring(1) : path;\r\n              fullUrl = `${window.location.origin}/${cleanPath}`;\r\n            }\r\n            \r\n            console.log('URL:', fullUrl);\r\n            \r\n            return {\r\n              name: path.split('/').pop(),\r\n              url: fullUrl\r\n            };\r\n          });\r\n        }\r\n        \r\n        // \r\n        unitName.value = record.unit_name;\r\n        \r\n        // \r\n        createdAt.value = record.created_at;\r\n        \r\n        // \r\n        updatePreviewImages([...fileListBefore.value, ...fileListAfter.value]);\r\n        \r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    // \r\n    const handleBeforeUpload = async (file) => {\r\n      // \r\n      const acceptedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/bmp', 'image/webp'];\r\n      const isImage = acceptedTypes.includes(file.type);\r\n      \r\n      if (!isImage) {\r\n        ElMessage.error('!');\r\n        return false;\r\n      }\r\n\r\n      // 50MB = 50 * 1024 * 1024 bytes\r\n      const maxSize = 50 * 1024 * 1024;\r\n      if (file.size > maxSize) {\r\n        ElMessage.error('50MB!');\r\n        return false;\r\n      }\r\n      \r\n      // \r\n      const largeFileThreshold = 2 * 1024 * 1024; // 2MB\r\n      if (file.size > largeFileThreshold) {\r\n        showLargeFileWarning.value = true;\r\n      }\r\n      \r\n      // true\r\n      return true;\r\n    };\r\n\r\n    // \r\n    const handlePhotoBeforeChange = (file, fileList) => {\r\n      console.log(':', file);\r\n      \r\n      // \r\n      checkForLargeFiles(fileList);\r\n      \r\n      // raw\r\n      if (file.raw === undefined && file.status === 'ready') {\r\n        file.raw = file.originFileObj || file;\r\n        console.log('raw:', file.raw);\r\n      }\r\n      \r\n      // \r\n      fileListBefore.value = fileList;\r\n      \r\n      // \r\n      updatePreviewImages([...fileListBefore.value, ...fileListAfter.value]);\r\n      \r\n      return false; // \r\n    };\r\n\r\n    // \r\n    const handlePhotoBeforeRemove = (file, fileList) => {\r\n      console.log(':', file);\r\n      \r\n      // fileListBefore\r\n      fileListBefore.value = fileList;\r\n      \r\n      // \r\n      if (!checkForLargeFiles([...fileListBefore.value, ...fileListAfter.value])) {\r\n        showLargeFileWarning.value = false;\r\n      }\r\n      \r\n      // \r\n      updatePreviewImages([...fileListBefore.value, ...fileListAfter.value]);\r\n    };\r\n\r\n    // \r\n    const handlePhotoAfterChange = (file, fileList) => {\r\n      console.log(':', file);\r\n      \r\n      // \r\n      checkForLargeFiles(fileList);\r\n      \r\n      // raw\r\n      if (file.raw === undefined && file.status === 'ready') {\r\n        file.raw = file.originFileObj || file;\r\n        console.log('raw:', file.raw);\r\n      }\r\n      \r\n      // \r\n      fileListAfter.value = fileList;\r\n      \r\n      // \r\n      updatePreviewImages([...fileListBefore.value, ...fileListAfter.value]);\r\n      \r\n      return false; // \r\n    };\r\n\r\n    // \r\n    const handlePhotoAfterRemove = (file, fileList) => {\r\n      console.log(':', file);\r\n      \r\n      // fileListAfter\r\n      fileListAfter.value = fileList;\r\n      \r\n      // \r\n      if (!checkForLargeFiles([...fileListBefore.value, ...fileListAfter.value])) {\r\n        showLargeFileWarning.value = false;\r\n      }\r\n      \r\n      // \r\n      updatePreviewImages([...fileListBefore.value, ...fileListAfter.value]);\r\n    };\r\n\r\n    // \r\n    const updatePreviewImages = (fileList) => {\r\n      previewImages.value = fileList.map(file => {\r\n        if (file.url) {\r\n          console.log('URL:', file.url);\r\n          return file.url;\r\n        } else if (file.raw) {\r\n          // Blob URL\r\n          if (!file._blobUrl) {\r\n            file._blobUrl = URL.createObjectURL(file.raw);\r\n          }\r\n          console.log('raw:', file._blobUrl);\r\n          return file._blobUrl;\r\n        } else if (file instanceof File) {\r\n          // Blob URL\r\n          if (!file._blobUrl) {\r\n            file._blobUrl = URL.createObjectURL(file);\r\n          }\r\n          console.log('File:', file._blobUrl);\r\n          return file._blobUrl;\r\n        }\r\n        return '';\r\n      }).filter(url => url);\r\n      \r\n      console.log(':', previewImages.value);\r\n    };\r\n\r\n    // \r\n    const handlePictureCardPreview = (file) => {\r\n      console.log(':', file);\r\n      \r\n      // \r\n      updatePreviewImages([...fileListBefore.value, ...fileListAfter.value]);\r\n      \r\n      // \r\n      const index = previewImages.value.findIndex(url => {\r\n        if (file.url) {\r\n          return url === file.url;\r\n        } else if (file.raw) {\r\n          // Blob URL\r\n          const blobUrl = URL.createObjectURL(file.raw);\r\n          const result = url === blobUrl;\r\n          // Blob URL\r\n          URL.revokeObjectURL(blobUrl);\r\n          return result;\r\n        }\r\n        return false;\r\n      });\r\n      \r\n      if (index !== -1) {\r\n        previewIndex.value = index;\r\n      } else {\r\n        previewIndex.value = 0;\r\n      }\r\n      \r\n      // \r\n      showViewer.value = true;\r\n    };\r\n    \r\n    // \r\n    const closeViewer = () => {\r\n      showViewer.value = false;\r\n    };\r\n\r\n    // \r\n    const checkForLargeFiles = (files) => {\r\n      const largeFileThreshold = 2 * 1024 * 1024; // 2MB\r\n      return files.some(file => file.size > largeFileThreshold);\r\n    };\r\n\r\n    // \r\n    const handleUploadProgress = (progressEvent) => {\r\n      if (progressEvent.total) {\r\n        const percentage = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n        uploadPercentage.value = percentage;\r\n        \r\n        if (percentage < 33) {\r\n          uploadStatus.value = '...';\r\n        } else if (percentage < 66) {\r\n          uploadStatus.value = '...';\r\n        } else if (percentage < 100) {\r\n          uploadStatus.value = '...';\r\n        } else {\r\n          uploadStatus.value = '...';\r\n        }\r\n      }\r\n    };\r\n\r\n    // \r\n    const percentageFormat = (percentage) => {\r\n      return percentage === 100 ? '' : `${percentage}%`;\r\n    };\r\n\r\n    // \r\n    const submitForm = async () => {\r\n      if (!recordForm.value) return;\r\n      \r\n      await recordForm.value.validate(async (valid) => {\r\n        if (valid) {\r\n          // \r\n          uploadPercentage.value = 0;\r\n          uploadStatus.value = '...';\r\n          showUploadProgress.value = true;\r\n          \r\n          try {\r\n            const formData = new FormData();\r\n            formData.append('unitId', form.unitId);\r\n            formData.append('wasteTypeId', form.wasteTypeId);\r\n            formData.append('location', form.location);\r\n            formData.append('collectionDate', form.collectionDate);\r\n            formData.append('collectionTime', form.collectionTime);\r\n            formData.append('quantity', form.quantity);\r\n            formData.append('remarks', form.remarks || '');\r\n            \r\n            //  - \r\n            // \r\n            \r\n            // \r\n            if (fileListBefore.value.length > 0) {\r\n              const newFiles = fileListBefore.value.filter(file => file.raw);\r\n              const existingFiles = fileListBefore.value.filter(file => !file.raw);\r\n              \r\n              // URLFile\r\n              if (newFiles.length > 0) {\r\n                console.log('');\r\n                \r\n                // formData\r\n                newFiles.forEach(file => {\r\n                  if (file.raw) {\r\n                    console.log(':', file.raw.name);\r\n                    formData.append('photo_before', file.raw);\r\n                  }\r\n                });\r\n                \r\n                // photo_path_before\r\n                if (existingFiles.length > 0) {\r\n                  const existingPaths = existingFiles.map(file => {\r\n                    // URL\r\n                    let path = file.url;\r\n                    const origin = window.location.origin;\r\n                    if (path.startsWith(origin)) {\r\n                      path = path.substring(origin.length);\r\n                      // /\r\n                      if (!path.startsWith('/')) {\r\n                        path = '/' + path;\r\n                      }\r\n                    }\r\n                    return path;\r\n                  });\r\n                  \r\n                  console.log(':', existingPaths);\r\n                  formData.append('photo_path_before', JSON.stringify(existingPaths));\r\n                }\r\n              } else if (existingFiles.length > 0) {\r\n                // photo_path_before\r\n                const existingPaths = existingFiles.map(file => {\r\n                  // URL\r\n                  let path = file.url;\r\n                  const origin = window.location.origin;\r\n                  if (path.startsWith(origin)) {\r\n                    path = path.substring(origin.length);\r\n                    // /\r\n                    if (!path.startsWith('/')) {\r\n                      path = '/' + path;\r\n                    }\r\n                  }\r\n                  return path;\r\n                });\r\n                \r\n                console.log('():', existingPaths);\r\n                formData.append('photo_path_before', JSON.stringify(existingPaths));\r\n              }\r\n            } else {\r\n              // \r\n              formData.append('photo_path_before', JSON.stringify([]));\r\n            }\r\n            \r\n            // \r\n            if (fileListAfter.value.length > 0) {\r\n              const newFiles = fileListAfter.value.filter(file => file.raw);\r\n              const existingFiles = fileListAfter.value.filter(file => !file.raw);\r\n              \r\n              // URLFile\r\n              if (newFiles.length > 0) {\r\n                console.log('');\r\n                \r\n                // formData\r\n                newFiles.forEach(file => {\r\n                  if (file.raw) {\r\n                    console.log(':', file.raw.name);\r\n                    formData.append('photo_after', file.raw);\r\n                  }\r\n                });\r\n                \r\n                // photo_path_after\r\n                if (existingFiles.length > 0) {\r\n                  const existingPaths = existingFiles.map(file => {\r\n                    // URL\r\n                    let path = file.url;\r\n                    const origin = window.location.origin;\r\n                    if (path.startsWith(origin)) {\r\n                      path = path.substring(origin.length);\r\n                      // /\r\n                      if (!path.startsWith('/')) {\r\n                        path = '/' + path;\r\n                      }\r\n                    }\r\n                    return path;\r\n                  });\r\n                  \r\n                  console.log(':', existingPaths);\r\n                  formData.append('photo_path_after', JSON.stringify(existingPaths));\r\n                }\r\n              } else if (existingFiles.length > 0) {\r\n                // photo_path_after\r\n                const existingPaths = existingFiles.map(file => {\r\n                  // URL\r\n                  let path = file.url;\r\n                  const origin = window.location.origin;\r\n                  if (path.startsWith(origin)) {\r\n                    path = path.substring(origin.length);\r\n                    // /\r\n                    if (!path.startsWith('/')) {\r\n                      path = '/' + path;\r\n                    }\r\n                  }\r\n                  return path;\r\n                });\r\n                \r\n                console.log('():', existingPaths);\r\n                formData.append('photo_path_after', JSON.stringify(existingPaths));\r\n              }\r\n            } else {\r\n              // \r\n              formData.append('photo_path_after', JSON.stringify([]));\r\n            }\r\n            \r\n            // FormData\r\n            console.log('FormData:');\r\n            for (let [key, value] of formData.entries()) {\r\n              if (value instanceof File) {\r\n                console.log(`${key}: File - ${value.name} (${value.type}, ${value.size} bytes)`);\r\n              } else {\r\n                console.log(`${key}: ${value}`);\r\n              }\r\n            }\r\n            \r\n            // API\r\n            if (form.recordId) {\r\n              await httpService.putForm(\r\n                `${apiConfig.endpoints.wasteRecords}/${form.recordId}`, \r\n                formData,\r\n                handleUploadProgress\r\n              );\r\n              ElMessage.success('');\r\n            } else {\r\n              await httpService.postForm(\r\n                apiConfig.endpoints.wasteRecords, \r\n                formData,\r\n                handleUploadProgress\r\n              );\r\n              ElMessage.success('');\r\n            }\r\n            \r\n            // \r\n            showUploadProgress.value = false;\r\n            \r\n            // \r\n            goBack();\r\n          } catch (error) {\r\n            console.error(':', error);\r\n            if (error.response && error.response.data) {\r\n              console.error(':', error.response.data);\r\n              ElMessage.error(`: ${error.response.data.error || ''}`);\r\n            } else {\r\n              ElMessage.error('');\r\n            }\r\n            showUploadProgress.value = false;\r\n          }\r\n        } else {\r\n          console.log('');\r\n          ElMessage.error('');\r\n          return false;\r\n        }\r\n      });\r\n    };\r\n\r\n    // \r\n    const goBack = () => {\r\n      if (isSuperAdmin.value) {\r\n        router.push('/admin-records');\r\n      } else {\r\n        router.push({ \r\n          name: 'RecordsList', \r\n          params: { unitId: auth.state.user.unit_id } \r\n        });\r\n      }\r\n    };\r\n\r\n    return {\r\n      form,\r\n      rules,\r\n      recordForm,\r\n      loading,\r\n      submitting,\r\n      unitName,\r\n      wasteTypes,\r\n      units,\r\n      fileListBefore,\r\n      fileListAfter,\r\n      previewImages,\r\n      showViewer,\r\n      previewIndex,\r\n      isNew,\r\n      isSuperAdmin,\r\n      parsePhotoPath,\r\n      handlePhotoBeforeChange,\r\n      handlePhotoBeforeRemove,\r\n      handlePhotoAfterChange,\r\n      handlePhotoAfterRemove,\r\n      handlePictureCardPreview,\r\n      handleBeforeUpload,\r\n      closeViewer,\r\n      submitForm,\r\n      goBack,\r\n      showUploadProgress,\r\n      uploadPercentage,\r\n      uploadStatus,\r\n      percentageFormat,\r\n      showLargeFileWarning\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.edit-record-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh;\r\n}\r\n\r\n.header {\r\n  background-color: #409EFF;\r\n  color: white;\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.back-button {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  font-size: 14px;\r\n}\r\n\r\n.content {\r\n  flex: 1;\r\n  padding: 30px;\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.form-header {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-header h2 {\r\n  color: #333;\r\n  border-bottom: 2px solid #409EFF;\r\n  display: inline-block;\r\n  padding-bottom: 5px;\r\n}\r\n\r\n.record-form {\r\n  background-color: #f9f9f9;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.waste-photo-uploader {\r\n  width: 100%;\r\n}\r\n\r\n.photo-tip, .time-tip {\r\n  font-size: 12px;\r\n  color: #999;\r\n  margin-top: 5px;\r\n}\r\n\r\n.footer {\r\n  background-color: #f5f5f5;\r\n  padding: 15px;\r\n  text-align: center;\r\n  color: #666;\r\n}\r\n\r\n.upload-warning {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.upload-progress {\r\n  text-align: center;\r\n  padding: 10px;\r\n}\r\n\r\n.upload-status {\r\n  margin-top: 10px;\r\n  color: #606266;\r\n  font-size: 14px;\r\n}\r\n</style>\r\n\r\n<style>\r\n/* Element Plusz-index */\r\n.el-image-viewer__wrapper {\r\n  z-index: 2147483647 !important; /* z-index */\r\n  position: fixed !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__mask {\r\n  z-index: 2147483646 !important;\r\n  position: fixed !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__btn {\r\n  z-index: 2147483647 !important;\r\n  position: fixed !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__close {\r\n  z-index: 2147483647 !important;\r\n  position: fixed !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__img {\r\n  z-index: 2147483646 !important;\r\n  position: relative !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__actions {\r\n  z-index: 2147483647 !important;\r\n  position: fixed !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__actions__inner {\r\n  z-index: 2147483647 !important;\r\n  position: relative !important;\r\n}\r\n</style>\r\n","import { render } from \"./EditRecord.vue?vue&type=template&id=23929916&scoped=true\"\nimport script from \"./EditRecord.vue?vue&type=script&lang=js\"\nexport * from \"./EditRecord.vue?vue&type=script&lang=js\"\n\nimport \"./EditRecord.vue?vue&type=style&index=0&id=23929916&scoped=true&lang=css\"\nimport \"./EditRecord.vue?vue&type=style&index=1&id=23929916&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-23929916\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"user-management-container\">\r\n    <div class=\"header\">\r\n      <div class=\"back-button\" @click=\"goBack\">\r\n        <el-icon><arrow-left /></el-icon> \r\n      </div>\r\n      <h1></h1>\r\n      <div></div>\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n      <div class=\"toolbar\">\r\n        <el-button type=\"primary\" @click=\"openAddDialog\">\r\n          <el-icon><plus /></el-icon> \r\n        </el-button>\r\n      </div>\r\n\r\n      <el-table\r\n        v-loading=\"loading\"\r\n        :data=\"users\"\r\n        border\r\n        stripe\r\n        style=\"width: 100%; margin-top: 20px;\"\r\n      >\r\n        <el-table-column prop=\"id\" label=\"ID\" width=\"60\" />\r\n        <el-table-column prop=\"username\" label=\"\" width=\"120\" />\r\n        <el-table-column prop=\"phone\" label=\"\" width=\"140\" />\r\n        <el-table-column prop=\"role_name\" label=\"\" width=\"120\" />\r\n        <el-table-column prop=\"unit_name\" label=\"\" min-width=\"120\" />\r\n        <el-table-column label=\"\" width=\"180\" fixed=\"right\">\r\n          <template #default=\"scope\">\r\n            <el-button size=\"small\" @click=\"handleEdit(scope.row)\"></el-button>\r\n            <el-popconfirm\r\n              title=\"\"\r\n              @confirm=\"handleDelete(scope.row)\"\r\n            >\r\n              <template #reference>\r\n                <el-button size=\"small\" type=\"danger\"></el-button>\r\n              </template>\r\n            </el-popconfirm>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n\r\n    <!-- / -->\r\n    <el-dialog\r\n      v-model=\"dialogVisible\"\r\n      :title=\"isEdit ? '' : ''\"\r\n      width=\"500px\"\r\n    >\r\n      <el-form\r\n        ref=\"userForm\"\r\n        :model=\"form\"\r\n        :rules=\"rules\"\r\n        label-width=\"100px\"\r\n        style=\"max-width: 400px; margin: 0 auto;\"\r\n      >\r\n        <el-form-item label=\"\" prop=\"username\">\r\n          <el-input v-model=\"form.username\" placeholder=\"\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"\" prop=\"phone\">\r\n          <el-input v-model=\"form.phone\" placeholder=\"\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"\" prop=\"roleId\">\r\n          <el-select v-model=\"form.roleId\" placeholder=\"\" style=\"width: 100%\">\r\n            <!--  -->\r\n            <el-option v-if=\"isSuperAdmin\" :value=\"3\" label=\"\" />\r\n            <el-option :value=\"2\" label=\"\" />\r\n            <el-option :value=\"1\" label=\"\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"\" prop=\"unitId\" v-if=\"form.roleId !== 3\">\r\n          <el-select \r\n            v-model=\"form.unitId\" \r\n            placeholder=\"\" \r\n            style=\"width: 100%\"\r\n            :disabled=\"!isSuperAdmin && isEdit\"\r\n          >\r\n            <el-option \r\n              v-for=\"unit in units\" \r\n              :key=\"unit.id\" \r\n              :label=\"unit.name\" \r\n              :value=\"unit.id\" \r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item \r\n          label=\"\" \r\n          prop=\"password\" \r\n          v-if=\"form.roleId === 2 || form.roleId === 3\"\r\n        >\r\n          <el-input \r\n            v-model=\"form.password\" \r\n            placeholder=\"\" \r\n            type=\"password\"\r\n            show-password\r\n          />\r\n          <div class=\"password-hint\" v-if=\"!isEdit\"></div>\r\n          <div class=\"password-hint\" v-else></div>\r\n        </el-form-item>\r\n      </el-form>\r\n      \r\n      <template #footer>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"dialogVisible = false\"></el-button>\r\n          <el-button type=\"primary\" @click=\"submitForm\" :loading=\"formLoading\">\r\n            \r\n          </el-button>\r\n        </span>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <div class=\"footer\">\r\n      <p>&copy; 2025 </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, reactive, onMounted, computed } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { ElMessage } from 'element-plus';\r\nimport httpService from '../config/httpService';\r\nimport apiConfig from '../config/api';\r\nimport { ArrowLeft, Plus } from '@element-plus/icons-vue';\r\nimport auth from '../store/auth';\r\n\r\nexport default {\r\n  name: 'UserManagement',\r\n  components: {\r\n    ArrowLeft,\r\n    Plus\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const loading = ref(false);\r\n    const formLoading = ref(false);\r\n    const dialogVisible = ref(false);\r\n    const isEdit = ref(false);\r\n    const userForm = ref(null);\r\n    const users = ref([]);\r\n    const units = ref([]);\r\n    \r\n    // \r\n    const isSuperAdmin = computed(() => {\r\n      return auth.state.isLoggedIn && auth.state.user.role_id === 3;\r\n    });\r\n    \r\n    // ID\r\n    const currentUnitId = computed(() => {\r\n      return auth.state.isLoggedIn ? auth.state.user.unit_id : null;\r\n    });\r\n    \r\n    // \r\n    const form = reactive({\r\n      id: null,\r\n      username: '',\r\n      phone: '',\r\n      roleId: 1,\r\n      unitId: null,\r\n      password: ''\r\n    });\r\n    \r\n    // \r\n    const rules = {\r\n      username: [\r\n        { required: true, message: '', trigger: 'blur' },\r\n        { min: 2, max: 20, message: ' 2  20 ', trigger: 'blur' }\r\n      ],\r\n      phone: [\r\n        { required: true, message: '', trigger: 'blur' },\r\n        { pattern: /^1[3-9]\\d{9}$/, message: '', trigger: 'blur' }\r\n      ],\r\n      roleId: [\r\n        { required: true, message: '', trigger: 'change' }\r\n      ],\r\n      unitId: [\r\n        { required: true, message: '', trigger: 'change' }\r\n      ],\r\n      password: [\r\n        { \r\n          required: function() {\r\n            // \r\n            return !isEdit.value && (form.roleId === 2 || form.roleId === 3);\r\n          }, \r\n          message: '', \r\n          trigger: 'blur' \r\n        },\r\n        { min: 1, max: 20, message: ' 1  20 ', trigger: 'blur' }\r\n      ]\r\n    };\r\n    \r\n    // \r\n    const fetchUsers = async () => {\r\n      loading.value = true;\r\n      try {\r\n        let response;\r\n        if (isSuperAdmin.value) {\r\n          // \r\n          response = await httpService.get(apiConfig.endpoints.users);\r\n        } else {\r\n          // \r\n          response = await httpService.get(`${apiConfig.endpoints.units}/${currentUnitId.value}/users`);\r\n        }\r\n        users.value = response.data;\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n        ElMessage.error('');\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n    \r\n    // \r\n    const fetchUnits = async () => {\r\n      try {\r\n        const response = await httpService.get(apiConfig.endpoints.units);\r\n        units.value = response.data;\r\n      } catch (error) {\r\n        console.error('Error fetching units:', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n    \r\n    // \r\n    const openAddDialog = () => {\r\n      isEdit.value = false;\r\n      resetForm();\r\n      dialogVisible.value = true;\r\n      \r\n      // \r\n      if (!isSuperAdmin.value) {\r\n        form.unitId = currentUnitId.value;\r\n      }\r\n    };\r\n    \r\n    // \r\n    const handleEdit = (row) => {\r\n      isEdit.value = true;\r\n      form.id = row.id;\r\n      form.username = row.username;\r\n      form.phone = row.phone;\r\n      form.roleId = row.role_id;\r\n      form.unitId = row.unit_id;\r\n      form.password = ''; // \r\n      dialogVisible.value = true;\r\n    };\r\n    \r\n    // \r\n    const handleDelete = async (row) => {\r\n      try {\r\n        await httpService.delete(`${apiConfig.endpoints.users}/${row.id}`);\r\n        ElMessage.success('');\r\n        fetchUsers();\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n        let errorMsg = '';\r\n        if (error.response && error.response.data && error.response.data.error) {\r\n          errorMsg = error.response.data.error;\r\n        }\r\n        ElMessage.error(errorMsg);\r\n      }\r\n    };\r\n    \r\n    // \r\n    const resetForm = () => {\r\n      if (userForm.value) {\r\n        userForm.value.resetFields();\r\n      }\r\n      form.id = null;\r\n      form.username = '';\r\n      form.phone = '';\r\n      form.roleId = 1;\r\n      form.unitId = null;\r\n      form.password = '';\r\n    };\r\n    \r\n    // \r\n    const submitForm = () => {\r\n      userForm.value.validate(async (valid) => {\r\n        if (valid) {\r\n          formLoading.value = true;\r\n          try {\r\n            const userData = {\r\n              username: form.username,\r\n              phone: form.phone,\r\n              roleId: form.roleId,\r\n              unitId: form.roleId !== 3 ? form.unitId : null\r\n            };\r\n            \r\n            // \r\n            if (form.password) {\r\n              userData.password = form.password;\r\n            }\r\n            \r\n            if (isEdit.value) {\r\n              // \r\n              await httpService.put(`${apiConfig.endpoints.users}/${form.id}`, userData);\r\n              ElMessage.success('');\r\n            } else {\r\n              // \r\n              await httpService.post(apiConfig.endpoints.users, userData);\r\n              ElMessage.success('');\r\n            }\r\n            \r\n            dialogVisible.value = false;\r\n            fetchUsers();\r\n          } catch (error) {\r\n            console.error('Error submitting user form:', error);\r\n            let errorMsg = isEdit.value ? '' : '';\r\n            if (error.response && error.response.data && error.response.data.error) {\r\n              errorMsg = error.response.data.error;\r\n            }\r\n            ElMessage.error(errorMsg);\r\n          } finally {\r\n            formLoading.value = false;\r\n          }\r\n        } else {\r\n          ElMessage.warning('');\r\n        }\r\n      });\r\n    };\r\n    \r\n    // \r\n    const goBack = () => {\r\n      router.back();\r\n    };\r\n    \r\n    onMounted(() => {\r\n      fetchUsers();\r\n      fetchUnits();\r\n    });\r\n    \r\n    return {\r\n      loading,\r\n      formLoading,\r\n      dialogVisible,\r\n      isEdit,\r\n      userForm,\r\n      users,\r\n      units,\r\n      form,\r\n      rules,\r\n      isSuperAdmin,\r\n      currentUnitId,\r\n      openAddDialog,\r\n      handleEdit,\r\n      handleDelete,\r\n      submitForm,\r\n      goBack\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.user-management-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh;\r\n}\r\n\r\n.header {\r\n  background-color: #409EFF;\r\n  color: white;\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.back-button {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  font-size: 14px;\r\n}\r\n\r\n.content {\r\n  flex: 1;\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.toolbar {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.password-hint {\r\n  font-size: 12px;\r\n  color: #999;\r\n  margin-top: 5px;\r\n}\r\n\r\n.footer {\r\n  background-color: #f5f5f5;\r\n  padding: 15px;\r\n  text-align: center;\r\n  color: #666;\r\n}\r\n</style>\r\n","import { render } from \"./UserManagement.vue?vue&type=template&id=3c215db0&scoped=true\"\nimport script from \"./UserManagement.vue?vue&type=script&lang=js\"\nexport * from \"./UserManagement.vue?vue&type=script&lang=js\"\n\nimport \"./UserManagement.vue?vue&type=style&index=0&id=3c215db0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3c215db0\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"admin-records-container\">\r\n    <div class=\"header\">\r\n      <h1> - </h1>\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n      <div class=\"actions\">\r\n        <el-button type=\"primary\" @click=\"addNewRecord\">\r\n          <el-icon><plus /></el-icon> \r\n        </el-button>\r\n        <el-button type=\"success\" @click=\"goToUserManagement\">\r\n          <el-icon><user /></el-icon> \r\n        </el-button>\r\n        <el-button @click=\"refreshRecords\">\r\n          <el-icon><refresh /></el-icon> \r\n        </el-button>\r\n      </div>\r\n      \r\n      <!--  -->\r\n      <el-card class=\"filter-card\">\r\n        <div class=\"filter-header\">\r\n          <h3></h3>\r\n          <el-button type=\"primary\" link @click=\"showFilterPanel = !showFilterPanel\">\r\n            {{ showFilterPanel ? '' : '' }} \r\n            <el-icon v-if=\"!showFilterPanel\"><arrow-down /></el-icon>\r\n            <el-icon v-else><arrow-up /></el-icon>\r\n          </el-button>\r\n        </div>\r\n        \r\n        <div v-show=\"showFilterPanel\" class=\"filter-form-container\">\r\n          <el-form :model=\"filterForm\" label-width=\"100px\" class=\"filter-form\">\r\n            <el-row :gutter=\"20\">\r\n              <!--  -->\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"\">\r\n                  <el-select v-model=\"filterForm.unitId\" placeholder=\"\" style=\"width: 100%\" clearable>\r\n                    <el-option \r\n                      v-for=\"unit in units\" \r\n                      :key=\"unit.id\" \r\n                      :label=\"unit.name\" \r\n                      :value=\"unit.id\" \r\n                    />\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-col>\r\n              \r\n              <!--  -->\r\n              <el-col :span=\"12\">\r\n                <el-form-item label=\"\">\r\n                  <el-date-picker\r\n                    v-model=\"filterForm.dateRange\"\r\n                    type=\"daterange\"\r\n                    range-separator=\"\"\r\n                    start-placeholder=\"\"\r\n                    end-placeholder=\"\"\r\n                    format=\"YYYY-MM-DD\"\r\n                    value-format=\"YYYY-MM-DD\"\r\n                    style=\"width: 100%\"\r\n                  />\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            \r\n            <el-row :gutter=\"20\">\r\n              <!--  -->\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"\">\r\n                  <el-select v-model=\"filterForm.wasteTypeId\" placeholder=\"\" style=\"width: 100%\" clearable>\r\n                    <el-option \r\n                      v-for=\"type in wasteTypes\" \r\n                      :key=\"type.id\" \r\n                      :label=\"type.name\" \r\n                      :value=\"type.id\" \r\n                    />\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-col>\r\n              \r\n              <!--  -->\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"()\">\r\n                  <div class=\"quantity-range\">\r\n                    <el-input-number \r\n                      v-model=\"filterForm.minQuantity\" \r\n                      :min=\"0\"\r\n                      :precision=\"3\"\r\n                      :step=\"0.001\"\r\n                      placeholder=\"\"\r\n                      style=\"width: 47%\"\r\n                    />\r\n                    <span class=\"range-separator\"></span>\r\n                    <el-input-number \r\n                      v-model=\"filterForm.maxQuantity\" \r\n                      :min=\"filterForm.minQuantity || 0\"\r\n                      :precision=\"3\"\r\n                      :step=\"0.001\"\r\n                      placeholder=\"\"\r\n                      style=\"width: 47%\"\r\n                    />\r\n                  </div>\r\n                </el-form-item>\r\n              </el-col>\r\n              \r\n              <!--  -->\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"\">\r\n                  <el-input \r\n                    v-model=\"filterForm.location\" \r\n                    placeholder=\"\" \r\n                    clearable\r\n                  />\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n            \r\n            <div class=\"filter-actions\">\r\n              <el-button type=\"primary\" @click=\"applyFilter\"></el-button>\r\n              <el-button @click=\"resetFilter\"></el-button>\r\n            </div>\r\n          </el-form>\r\n        </div>\r\n      </el-card>\r\n      \r\n      <div class=\"records-wrapper\">\r\n        <el-card class=\"records-card\">\r\n          <div class=\"card-header\">\r\n            <h3></h3>\r\n            <div class=\"card-actions\">\r\n              <el-button type=\"warning\" @click=\"exportRecords\">\r\n                <el-icon><download /></el-icon> \r\n              </el-button>\r\n            </div>\r\n          </div>\r\n          \r\n          <el-table \r\n            :data=\"filteredRecords\" \r\n            style=\"width: 100%\" \r\n            border \r\n            v-loading=\"loading\"\r\n            stripe\r\n            class=\"responsive-table\"\r\n            height=\"500\"\r\n            @scroll=\"handleScroll\"\r\n          >\r\n            <el-table-column prop=\"unit_name\" label=\"\" width=\"100\" />\r\n            <el-table-column prop=\"waste_type_name\" label=\"\" width=\"100\" />\r\n            <el-table-column prop=\"location\" label=\"\" />\r\n            <el-table-column prop=\"collection_start_time\" label=\"\" width=\"160\" />\r\n            <el-table-column label=\"()\" width=\"80\">\r\n              <template #default=\"scope\">\r\n                {{ parseFloat(scope.row.quantity).toFixed(3) }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"creator_name\" label=\"\" width=\"100\" />\r\n            <el-table-column prop=\"created_at\" label=\"\" width=\"160\" />\r\n            <el-table-column\r\n              label=\"\"\r\n              width=\"120\"\r\n              align=\"center\"\r\n            >\r\n              <template #default=\"scope\">\r\n                <div v-if=\"scope.row.photo_path_before\" class=\"photo-preview\">\r\n                  <!--  -->\r\n                  <div \r\n                    v-for=\"(path, index) in parsePhotoPath(scope.row.photo_path_before)\" \r\n                    :key=\"index\"\r\n                    class=\"photo-thumbnail-container\"\r\n                    @click=\"previewPhoto(parsePhotoPath(scope.row.photo_path_before), index)\"\r\n                  >\r\n                    <el-image\r\n                      style=\"width: 50px; height: 50px\"\r\n                      :src=\"`${baseUrl}${path}`\"\r\n                      fit=\"cover\"\r\n                    ></el-image>\r\n                  </div>\r\n                  <div v-if=\"parsePhotoPath(scope.row.photo_path_before).length > 1\" class=\"photo-count\">\r\n                    {{ parsePhotoPath(scope.row.photo_path_before).length }}\r\n                  </div>\r\n                </div>\r\n                <span v-else></span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              label=\"\"\r\n              width=\"120\"\r\n              align=\"center\"\r\n            >\r\n              <template #default=\"scope\">\r\n                <div v-if=\"scope.row.photo_path_after\" class=\"photo-preview\">\r\n                  <!--  -->\r\n                  <div \r\n                    v-for=\"(path, index) in parsePhotoPath(scope.row.photo_path_after)\" \r\n                    :key=\"index\"\r\n                    class=\"photo-thumbnail-container\"\r\n                    @click=\"previewPhoto(parsePhotoPath(scope.row.photo_path_after), index)\"\r\n                  >\r\n                    <el-image\r\n                      style=\"width: 50px; height: 50px\"\r\n                      :src=\"`${baseUrl}${path}`\"\r\n                      fit=\"cover\"\r\n                    ></el-image>\r\n                  </div>\r\n                  <div v-if=\"parsePhotoPath(scope.row.photo_path_after).length > 1\" class=\"photo-count\">\r\n                    {{ parsePhotoPath(scope.row.photo_path_after).length }}\r\n                  </div>\r\n                </div>\r\n                <span v-else></span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"\" width=\"70\" fixed=\"right\">\r\n              <template #default=\"scope\">\r\n                <div class=\"operation-buttons\">\r\n                  <el-button \r\n                    type=\"primary\" \r\n                    size=\"small\" \r\n                    @click=\"editRecord(scope.row.id)\"\r\n                    text\r\n                  >\r\n                    \r\n                  </el-button>\r\n                  <el-button \r\n                    type=\"danger\" \r\n                    size=\"small\" \r\n                    @click=\"confirmDelete(scope.row)\"\r\n                    text\r\n                  >\r\n                    \r\n                  </el-button>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          \r\n          <div v-if=\"loadingMore\" class=\"loading-more\">\r\n            <el-icon class=\"loading\"><loading /></el-icon>\r\n            ...\r\n          </div>\r\n          \r\n          <div class=\"empty-block\" v-if=\"records.length === 0 && !loading\">\r\n            <el-empty description=\"\" />\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"footer\">\r\n      <p>&copy; 2025 </p>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <el-image-viewer\r\n      v-if=\"showViewer\"\r\n      :url-list=\"previewImages\"\r\n      :initial-index=\"previewIndex\"\r\n      @close=\"closeViewer\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed, reactive } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { ElMessage, ElMessageBox, ElImageViewer } from 'element-plus';\r\nimport axios from 'axios';\r\nimport { Plus, Refresh, User, ArrowDown, ArrowUp, Download, Loading } from '@element-plus/icons-vue';\r\nimport auth from '../store/auth';\r\nimport { exportToExcel } from '../utils/exportUtils';\r\nimport apiConfig from '../config/api';\r\n\r\n// APIURL\r\n// const apiBaseURL = apiConfig.baseURL;\r\n\r\n// \r\nconst parsePhotoPath = (path) => {\r\n  if (!path) return [];\r\n  \r\n  try {\r\n    // JSON\r\n    if (path.startsWith('[') && path.endsWith(']')) {\r\n      return JSON.parse(path);\r\n    }\r\n    // JSON\r\n    return [path];\r\n  } catch (error) {\r\n    console.error(':', error);\r\n    // \r\n    return [path];\r\n  }\r\n};\r\n\r\n// \r\nconst getPhotosByType = (record, type) => {\r\n  if (!record.photos) return [];\r\n  \r\n  try {\r\n    const photos = JSON.parse(record.photos);\r\n    if (Array.isArray(photos)) {\r\n      return photos.filter(photo => photo.type === type);\r\n    }\r\n    return [];\r\n  } catch (error) {\r\n    console.error('JSON:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport default {\r\n  name: 'AdminRecordsView',\r\n  components: {\r\n    Plus,\r\n    Refresh,\r\n    User,\r\n    ArrowDown,\r\n    ArrowUp,\r\n    Download,\r\n    ElImageViewer,\r\n    Loading\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const records = ref([]);\r\n    const loading = ref(false);\r\n    const units = ref([]);\r\n    const wasteTypes = ref([]);\r\n    const showFilterPanel = ref(true);\r\n    \r\n    // baseUrl\r\n    const baseUrl = apiConfig.baseURL;\r\n    \r\n    // \r\n    const showViewer = ref(false);\r\n    const previewImages = ref([]);\r\n    const previewIndex = ref(0);\r\n    \r\n    // \r\n    const page = ref(1);\r\n    const pageSize = ref(20);\r\n    const hasMore = ref(true);\r\n    const loadingMore = ref(false);\r\n    \r\n    // \r\n    const filterForm = reactive({\r\n      unitId: null,\r\n      dateRange: null,\r\n      wasteTypeId: null,\r\n      minQuantity: null,\r\n      maxQuantity: null,\r\n      location: ''\r\n    });\r\n    \r\n    // \r\n    const filteredRecords = computed(() => {\r\n      return records.value.filter(record => {\r\n        // \r\n        if (filterForm.unitId && record.unit_id !== filterForm.unitId) {\r\n          return false;\r\n        }\r\n        \r\n        // \r\n        if (filterForm.wasteTypeId && record.waste_type_id !== filterForm.wasteTypeId) {\r\n          return false;\r\n        }\r\n        \r\n        // \r\n        if (filterForm.minQuantity !== null && parseFloat(record.quantity) < filterForm.minQuantity) {\r\n          return false;\r\n        }\r\n        if (filterForm.maxQuantity !== null && parseFloat(record.quantity) > filterForm.maxQuantity) {\r\n          return false;\r\n        }\r\n        \r\n        // \r\n        if (filterForm.location && !record.location.toLowerCase().includes(filterForm.location.toLowerCase())) {\r\n          return false;\r\n        }\r\n        \r\n        // \r\n        if (filterForm.dateRange && filterForm.dateRange.length === 2) {\r\n          const startDate = new Date(filterForm.dateRange[0]);\r\n          // 23:59:59\r\n          const endDate = new Date(filterForm.dateRange[1]);\r\n          endDate.setHours(23, 59, 59, 999);\r\n          \r\n          // \r\n          if (record.collection_start_time) {\r\n            // \r\n            const recordDate = parseFormattedDateTime(record.collection_start_time);\r\n            if (recordDate < startDate || recordDate > endDate) {\r\n              return false;\r\n            }\r\n          } else {\r\n            // \r\n            return false;\r\n          }\r\n        }\r\n        \r\n        return true;\r\n      });\r\n    });\r\n    \r\n    // \r\n    const parseFormattedDateTime = (formattedDateTime) => {\r\n      //  \"2025-03-01 14:30:00\"\r\n      // \r\n      const cleanedStr = formattedDateTime.replace(/[^0-9\\-: ]/g, '');\r\n      return new Date(cleanedStr);\r\n    };\r\n\r\n    onMounted(async () => {\r\n      // \r\n      if (!auth.state.isLoggedIn || auth.state.user.role_id !== 3) {\r\n        ElMessage.error('');\r\n        router.push('/login');\r\n        return;\r\n      }\r\n      \r\n      await Promise.all([\r\n        fetchUnits(),\r\n        fetchWasteTypes(),\r\n        fetchRecords()\r\n      ]);\r\n    });\r\n    \r\n    // \r\n    const fetchUnits = async () => {\r\n      try {\r\n        const response = await axios.get(apiConfig.getUrl(apiConfig.endpoints.units));\r\n        units.value = response.data;\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n    \r\n    // \r\n    const fetchWasteTypes = async () => {\r\n      try {\r\n        const response = await axios.get(apiConfig.getUrl(apiConfig.endpoints.wasteTypes));\r\n        wasteTypes.value = response.data;\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      }\r\n    };\r\n\r\n    const fetchRecords = async (isLoadMore = false) => {\r\n      if (!isLoadMore) {\r\n        loading.value = true;\r\n        page.value = 1;\r\n        records.value = [];\r\n      } else {\r\n        loadingMore.value = true;\r\n      }\r\n      \r\n      try {\r\n        const params = {\r\n          page: page.value,\r\n          pageSize: pageSize.value,\r\n          wasteTypeId: filterForm.wasteTypeId,\r\n          minQuantity: filterForm.minQuantity,\r\n          maxQuantity: filterForm.maxQuantity,\r\n          location: filterForm.location,\r\n        };\r\n        \r\n        // Only add dateRange if it exists and has both start and end dates\r\n        if (filterForm.dateRange && filterForm.dateRange.length === 2) {\r\n          params.dateRange = JSON.stringify(filterForm.dateRange);\r\n        }\r\n        \r\n        const response = await axios.get(\r\n          `${apiConfig.getUrl(apiConfig.endpoints.wasteRecords)}/user/${auth.state.user.id}`,\r\n          { params }\r\n        );\r\n        \r\n        // \r\n        const formattedRecords = response.data.records.map(record => ({\r\n          ...record,\r\n          created_at: formatDateTime(record.created_at),\r\n          collection_start_time: formatDateTime(record.collection_start_time)\r\n        }));\r\n        \r\n        if (isLoadMore) {\r\n          records.value = [...records.value, ...formattedRecords];\r\n        } else {\r\n          records.value = formattedRecords;\r\n        }\r\n        \r\n        hasMore.value = response.data.hasMore;\r\n        if (hasMore.value) {\r\n          page.value++;\r\n        }\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      } finally {\r\n        loading.value = false;\r\n        loadingMore.value = false;\r\n      }\r\n    };\r\n\r\n    const formatDateTime = (dateTimeStr) => {\r\n      if (!dateTimeStr) return '';\r\n      const date = new Date(dateTimeStr);\r\n      return date.toLocaleString('zh-CN', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        hour12: false\r\n      });\r\n    };\r\n\r\n    const refreshRecords = () => {\r\n      fetchRecords();\r\n    };\r\n\r\n    const addNewRecord = () => {\r\n      if (auth.state.user.role_id === 3) {\r\n        router.push('/record/new');\r\n      } else {\r\n        router.push(`/unit/${auth.state.user.unit_id}`);\r\n      }\r\n    };\r\n\r\n    const goToUserManagement = () => {\r\n      router.push('/user-management');\r\n    };\r\n\r\n    const editRecord = (recordId) => {\r\n      router.push(`/record/${recordId}`);\r\n    };\r\n\r\n    // \r\n    const applyFilter = async () => {\r\n      await fetchRecords();\r\n      ElMessage.success('');\r\n    };\r\n    \r\n    // \r\n    const resetFilter = async () => {\r\n      filterForm.unitId = null;\r\n      filterForm.dateRange = null;\r\n      filterForm.wasteTypeId = null;\r\n      filterForm.minQuantity = null;\r\n      filterForm.maxQuantity = null;\r\n      filterForm.location = '';\r\n      await fetchRecords();\r\n      ElMessage.info('');\r\n    };\r\n    \r\n    // Excel\r\n    const exportRecords = async () => {\r\n      if (filteredRecords.value.length === 0) {\r\n        ElMessage.warning('');\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        loading.value = true;\r\n        // \r\n        const response = await axios.get(\r\n          `${apiConfig.getUrl(apiConfig.endpoints.wasteRecords)}/export/user/${auth.state.user.id}`,\r\n          {\r\n            params: {\r\n              unitId: filterForm.unitId,\r\n              wasteTypeId: filterForm.wasteTypeId,\r\n              minQuantity: filterForm.minQuantity,\r\n              maxQuantity: filterForm.maxQuantity,\r\n              location: filterForm.location,\r\n              dateRange: filterForm.dateRange\r\n            }\r\n          }\r\n        );\r\n        \r\n        const allRecords = response.data.map(record => ({\r\n          ...record,\r\n          created_at: formatDateTime(record.created_at),\r\n          collection_start_time: formatDateTime(record.collection_start_time)\r\n        }));\r\n        \r\n        // \r\n        const exportHeaders = [\r\n          { title: '', field: 'unit_name', width: 15 },\r\n          { title: '', field: 'waste_type_name', width: 15 },\r\n          { title: '', field: 'location', width: 20 },\r\n          { title: '', field: 'collection_start_time', width: 20, type: 'datetime' },\r\n          { title: '()', field: 'quantity', width: 12, type: 'number' },\r\n          { title: '', field: 'created_at', width: 20, type: 'datetime' }\r\n        ];\r\n        \r\n        let fileName = '';\r\n        if (filterForm.unitId) {\r\n          const unit = units.value.find(u => u.id === filterForm.unitId);\r\n          if (unit) {\r\n            fileName = `${unit.name}_`;\r\n          }\r\n        }\r\n        if (filterForm.wasteTypeId) {\r\n          const wasteType = wasteTypes.value.find(type => type.id === filterForm.wasteTypeId);\r\n          if (wasteType) {\r\n            fileName += `_${wasteType.name}`;\r\n          }\r\n        }\r\n        \r\n        exportToExcel(allRecords, fileName, exportHeaders);\r\n        ElMessage.success('');\r\n      } catch (error) {\r\n        console.error(':', error);\r\n        ElMessage.error('');\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n    \r\n    // \r\n    const confirmDelete = (record) => {\r\n      ElMessageBox.confirm(\r\n        '',\r\n        '',\r\n        {\r\n          confirmButtonText: '',\r\n          cancelButtonText: '',\r\n          type: 'warning',\r\n        }\r\n      )\r\n        .then(async () => {\r\n          try {\r\n            await axios.delete(`${apiConfig.getUrl(apiConfig.endpoints.wasteRecords)}/${record.id}`);\r\n            ElMessage.success('');\r\n            await fetchRecords();\r\n          } catch (error) {\r\n            console.error(':', error);\r\n            ElMessage.error('');\r\n          }\r\n        })\r\n        .catch(() => {\r\n          ElMessage.info('');\r\n        });\r\n    };\r\n\r\n    // \r\n    const previewPhoto = (paths, index) => {\r\n      // paths\r\n      const photoArray = Array.isArray(paths) ? paths : [paths];\r\n      previewImages.value = photoArray.map(path => `${baseUrl}${path}`);\r\n      previewIndex.value = index || 0;\r\n      showViewer.value = true;\r\n    };\r\n    \r\n    // \r\n    const closeViewer = () => {\r\n      showViewer.value = false;\r\n    };\r\n\r\n    // \r\n    const handleScroll = async (e) => {\r\n      const element = e.target;\r\n      // element\r\n      if (\r\n        element && \r\n        element.scrollHeight && \r\n        !loadingMore.value &&\r\n        hasMore.value &&\r\n        element.scrollHeight - element.scrollTop - element.clientHeight < 100\r\n      ) {\r\n        await fetchRecords(true);\r\n      }\r\n    };\r\n\r\n    return {\r\n      records,\r\n      filteredRecords,\r\n      loading,\r\n      units,\r\n      wasteTypes,\r\n      showFilterPanel,\r\n      filterForm,\r\n      applyFilter,\r\n      resetFilter,\r\n      exportRecords,\r\n      parsePhotoPath,\r\n      getPhotosByType,\r\n      refreshRecords,\r\n      addNewRecord,\r\n      goToUserManagement,\r\n      editRecord,\r\n      confirmDelete,\r\n      // \r\n      showViewer,\r\n      previewImages,\r\n      previewIndex,\r\n      previewPhoto,\r\n      closeViewer,\r\n      baseUrl,\r\n      page,\r\n      pageSize,\r\n      hasMore,\r\n      loadingMore,\r\n      handleScroll\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-records-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh;\r\n}\r\n\r\n.header {\r\n  background-color: #409EFF;\r\n  color: white;\r\n  padding: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.content {\r\n  flex: 1;\r\n  padding: 30px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-bottom: 20px;\r\n  gap: 10px;\r\n}\r\n\r\n.filter-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.filter-header h3 {\r\n  margin: 0;\r\n  color: #333;\r\n}\r\n\r\n.filter-form-container {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.quantity-range {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.range-separator {\r\n  margin: 0 5px;\r\n}\r\n\r\n.filter-actions {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 20px;\r\n  gap: 10px;\r\n}\r\n\r\n.records-wrapper {\r\n  margin-top: 20px;\r\n}\r\n\r\n.records-card {\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header h3 {\r\n  margin: 0;\r\n  color: #333;\r\n}\r\n\r\n.record-image {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  display: block;\r\n}\r\n\r\n.photo-count {\r\n  font-size: 12px;\r\n  color: #409EFF;\r\n  text-align: center;\r\n  margin-top: 2px;\r\n}\r\n\r\n.image-error {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 50px;\r\n  height: 50px;\r\n  background-color: #f5f7fa;\r\n  color: #909399;\r\n}\r\n\r\n.empty-block {\r\n  margin: 20px 0;\r\n}\r\n\r\n.footer {\r\n  background-color: #f5f5f5;\r\n  padding: 15px;\r\n  text-align: center;\r\n  color: #666;\r\n}\r\n\r\n.photo-thumbnail-container {\r\n  cursor: pointer;\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.photo-count {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  text-align: center;\r\n  margin-top: 2px;\r\n}\r\n\r\n.photo-preview {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.operation-buttons {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  align-items: center;\r\n}\r\n\r\n.operation-buttons .el-button {\r\n  margin-left: 0;\r\n  padding: 4px 8px;\r\n}\r\n\r\n.loading-more {\r\n  text-align: center;\r\n  padding: 10px 0;\r\n  color: #909399;\r\n}\r\n\r\n.loading-more .loading {\r\n  margin-right: 5px;\r\n  animation: rotating 2s linear infinite;\r\n}\r\n\r\n@keyframes rotating {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n</style>\r\n\r\n<style>\r\n/* Element Plusz-index */\r\n.el-image-viewer__wrapper {\r\n  z-index: 2147483647 !important; /* z-index */\r\n  position: fixed !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__mask {\r\n  z-index: 2147483646 !important;\r\n  position: fixed !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__btn {\r\n  z-index: 2147483647 !important;\r\n  position: fixed !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__close {\r\n  z-index: 2147483647 !important;\r\n  position: fixed !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__img {\r\n  z-index: 2147483646 !important;\r\n  position: relative !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__actions {\r\n  z-index: 2147483647 !important;\r\n  position: fixed !important;\r\n}\r\n\r\n/*  */\r\n.el-image-viewer__actions__inner {\r\n  z-index: 2147483647 !important;\r\n  position: relative !important;\r\n}\r\n</style>\r\n","import { render } from \"./AdminRecords.vue?vue&type=template&id=02c0f4e0&scoped=true\"\nimport script from \"./AdminRecords.vue?vue&type=script&lang=js\"\nexport * from \"./AdminRecords.vue?vue&type=script&lang=js\"\n\nimport \"./AdminRecords.vue?vue&type=style&index=0&id=02c0f4e0&scoped=true&lang=css\"\nimport \"./AdminRecords.vue?vue&type=style&index=1&id=02c0f4e0&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-02c0f4e0\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\r\nimport UnitSelection from '../views/UnitSelection.vue'\r\nimport WasteForm from '../views/WasteForm.vue'\r\nimport RecordsList from '../views/RecordsList.vue'\r\nimport Login from '../views/Login.vue'\r\nimport EditRecord from '../views/EditRecord.vue'\r\nimport UserManagement from '../views/UserManagement.vue'\r\nimport AdminRecords from '../views/AdminRecords.vue'\r\nimport auth from '../store/auth'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: Login,\r\n    meta: { requiresAuth: false }\r\n  },\r\n  {\r\n    path: '/user-management',\r\n    name: 'UserManagement',\r\n    component: UserManagement,\r\n    meta: { requiresAuth: true, requiresManager: true }\r\n  },\r\n  {\r\n    path: '/',\r\n    name: 'UnitSelection',\r\n    component: UnitSelection,\r\n    meta: { requiresAuth: true, requiresSuperAdmin: true }\r\n  },\r\n  {\r\n    path: '/admin-records',\r\n    name: 'AdminRecords',\r\n    component: AdminRecords,\r\n    meta: { requiresAuth: true, requiresSuperAdmin: true }\r\n  },\r\n  {\r\n    path: '/record/new',\r\n    name: 'EditRecord',\r\n    component: EditRecord,\r\n    props: { id: null },\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/record/:id',\r\n    name: 'EditRecord',\r\n    component: EditRecord,\r\n    props: true,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/unit/:id',\r\n    name: 'WasteForm',\r\n    component: WasteForm,\r\n    props: true,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/records/:unitId',\r\n    name: 'RecordsList',\r\n    component: RecordsList,\r\n    props: true,\r\n    meta: { requiresAuth: true }\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n})\r\n\r\n// \r\nrouter.beforeEach((to, from, next) => {\r\n  // \r\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\r\n  const requiresSuperAdmin = to.matched.some(record => record.meta.requiresSuperAdmin);\r\n  const requiresManager = to.matched.some(record => record.meta.requiresManager);\r\n  \r\n  // \r\n  if (requiresAuth && !auth.state.isLoggedIn) {\r\n    next({ name: 'Login' });\r\n    return;\r\n  }\r\n  \r\n  // \r\n  if (requiresSuperAdmin && auth.state.isLoggedIn && auth.state.user.role_id !== 3) {\r\n    // \r\n    next({ name: 'WasteForm', params: { id: auth.state.user.unit_id } });\r\n    return;\r\n  }\r\n  \r\n  // \r\n  if (requiresManager && auth.state.isLoggedIn && auth.state.user.role_id === 1) {\r\n    // \r\n    next({ name: 'WasteForm', params: { id: auth.state.user.unit_id } });\r\n    return;\r\n  }\r\n  \r\n  // \r\n  if (to.name === 'Login' && auth.state.isLoggedIn) {\r\n    if (auth.state.user.role_id === 3) {\r\n      next({ name: 'AdminRecords' }); // \r\n    } else if (auth.state.user.role_id === 2) {\r\n      next({ name: 'RecordsList', params: { unitId: auth.state.user.unit_id } }); // \r\n    } else {\r\n      next({ name: 'WasteForm', params: { id: auth.state.user.unit_id } }); // \r\n    }\r\n    return;\r\n  }\r\n  \r\n  // \r\n  if (to.path === '/' && auth.state.isLoggedIn) {\r\n    if (auth.state.user.role_id === 3) {\r\n      next({ name: 'AdminRecords' });\r\n      return;\r\n    } else if (auth.state.user.role_id === 2) {\r\n      next({ name: 'RecordsList', params: { unitId: auth.state.user.unit_id } });\r\n      return;\r\n    } else {\r\n      next({ name: 'WasteForm', params: { id: auth.state.user.unit_id } });\r\n      return;\r\n    }\r\n  }\r\n  \r\n  // \r\n  if (to.name === 'WasteForm' && auth.state.isLoggedIn && \r\n      auth.state.user.role_id !== 3 && // \r\n      auth.state.user.unit_id !== parseInt(to.params.id)) {\r\n    // \r\n    next({ name: 'WasteForm', params: { id: auth.state.user.unit_id } });\r\n    return;\r\n  }\r\n  \r\n  // \r\n  next();\r\n});\r\n\r\nexport default router","import axios from 'axios';\nimport { ElMessage } from 'element-plus';\nimport auth from '../store/auth';\nimport apiConfig from './api';\nimport router from '../router';\n\n//  axios \nconst axiosInstance = axios.create({\n  baseURL: apiConfig.baseURL,\n  timeout: 300000, // 300\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  maxContentLength: 50 * 1024 * 1024, // 50MB\n  maxBodyLength: 50 * 1024 * 1024 // 50MB\n});\n\n// \naxiosInstance.interceptors.request.use(\n  config => {\n    //  localStorage  sessionStorage  token\n    const token = localStorage.getItem('token') || sessionStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  error => {\n    console.error('Request error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// \naxiosInstance.interceptors.response.use(\n  response => {\n    return response;\n  },\n  error => {\n    if (error.response) {\n      switch (error.response.status) {\n        case 401:\n          // \n          if (error.config.url.includes('/api/login')) {\n            // \n            return Promise.reject(error);\n          } else {\n            // token \n            auth.logout();\n            ElMessage.error('');\n            router.push('/login');\n          }\n          break;\n        case 403:\n          ElMessage.error('');\n          break;\n        case 404:\n          ElMessage.error('');\n          break;\n        case 500:\n          ElMessage.error('');\n          break;\n        default:\n          ElMessage.error(error.response.data?.error || '');\n      }\n    } else if (error.request) {\n      ElMessage.error('');\n    } else {\n      ElMessage.error('');\n    }\n    return Promise.reject(error);\n  }\n);\n\n// HTTP\nconst httpService = {\n  // GET\n  get(endpoint, params = {}) {\n    return axiosInstance.get(endpoint, { params });\n  },\n  \n  // POST\n  post(endpoint, data = {}) {\n    return axiosInstance.post(endpoint, data);\n  },\n  \n  // POST\n  postForm(endpoint, formData, onUploadProgress) {\n    const config = {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      timeout: 300000, // 300\n      maxContentLength: 50 * 1024 * 1024, // 50MB\n      maxBodyLength: 50 * 1024 * 1024 // 50MB\n    };\n    \n    // onUploadProgress\n    if (typeof onUploadProgress === 'function') {\n      config.onUploadProgress = onUploadProgress;\n    }\n    \n    return axiosInstance.post(endpoint, formData, config);\n  },\n  \n  // PUT\n  put(endpoint, data = {}) {\n    return axiosInstance.put(endpoint, data);\n  },\n  \n  // PUT\n  putForm(endpoint, formData, onUploadProgress) {\n    const config = {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      },\n      timeout: 300000, // 300\n      maxContentLength: 50 * 1024 * 1024, // 50MB\n      maxBodyLength: 50 * 1024 * 1024 // 50MB\n    };\n    \n    // onUploadProgress\n    if (typeof onUploadProgress === 'function') {\n      config.onUploadProgress = onUploadProgress;\n    }\n    \n    return axiosInstance.put(endpoint, formData, config);\n  },\n  \n  // DELETE\n  delete(endpoint) {\n    return axiosInstance.delete(endpoint);\n  },\n\n  //  axios  defaults\n  defaults: axiosInstance.defaults\n};\n\nexport default httpService;\n","import { reactive } from 'vue';\r\nimport httpService from '../config/httpService';\r\nimport apiConfig from '../config/api';\r\n\r\n// \r\nconst defaultState = {\r\n  user: null,\r\n  token: null,\r\n  isLoggedIn: false,\r\n  loading: false,\r\n  error: null\r\n};\r\n\r\n// \r\nconst state = reactive({\r\n  ...defaultState\r\n});\r\n\r\n// localStoragetoken\r\nconst init = () => {\r\n  const savedUser = localStorage.getItem('user');\r\n  const savedToken = localStorage.getItem('token');\r\n  if (savedUser && savedToken) {\r\n    try {\r\n      const user = JSON.parse(savedUser);\r\n      state.user = user;\r\n      state.token = savedToken;\r\n      state.isLoggedIn = true;\r\n      //  token  httpService\r\n      if (httpService.defaults && httpService.defaults.headers) {\r\n        httpService.defaults.headers.common['Authorization'] = `Bearer ${savedToken}`;\r\n      }\r\n    } catch (e) {\r\n      console.error('Error parsing saved user data:', e);\r\n      localStorage.removeItem('user');\r\n      localStorage.removeItem('token');\r\n    }\r\n  }\r\n};\r\n\r\n// \r\nconst login = async (phone, password, rememberMe = false, userType = 1) => {\r\n  // \r\n  state.loading = true;\r\n  state.error = null;\r\n  \r\n  console.log('auth.login :', phone, ':', userType);\r\n\r\n  try {\r\n    // \r\n    const postData = { \r\n      phone, \r\n      rememberMe,\r\n      userType // \r\n    };\r\n    \r\n    // \r\n    if (password !== null && password !== undefined && password !== '') {\r\n      postData.password = password;\r\n      console.log('auth.login ');\r\n    } else {\r\n      console.log('auth.login ');\r\n    }\r\n    \r\n    console.log(':', postData);\r\n    const response = await httpService.post(apiConfig.endpoints.login, postData);\r\n    console.log(':', response.data);\r\n\r\n    const { token, ...user } = response.data;\r\n    state.user = user;\r\n    state.token = token;\r\n    state.isLoggedIn = true;\r\n    \r\n    //  token  httpService\r\n    if (httpService.defaults && httpService.defaults.headers) {\r\n      httpService.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    }\r\n    \r\n    // localStorage\r\n    if (rememberMe) {\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      localStorage.setItem('token', token);\r\n    } else {\r\n      //  sessionStorage \r\n      sessionStorage.setItem('user', JSON.stringify(user));\r\n      sessionStorage.setItem('token', token);\r\n    }\r\n    \r\n    return { success: true, user };\r\n  } catch (error) {\r\n    // \r\n    state.error = error.response?.data?.error || '';\r\n    console.error('Login error:', error);\r\n    return { success: false, error: state.error };\r\n  } finally {\r\n    state.loading = false;\r\n  }\r\n};\r\n\r\n// \r\nconst logout = () => {\r\n  state.user = null;\r\n  state.token = null;\r\n  state.isLoggedIn = false;\r\n  if (httpService.defaults && httpService.defaults.headers) {\r\n    delete httpService.defaults.headers.common['Authorization'];\r\n  }\r\n  localStorage.removeItem('user');\r\n  localStorage.removeItem('token');\r\n  sessionStorage.removeItem('user');\r\n  sessionStorage.removeItem('token');\r\n};\r\n\r\n// \r\nconst isAdmin = () => {\r\n  return state.isLoggedIn && state.user && state.user.role_id === 3;\r\n};\r\n\r\n// \r\nconst isUnitAdmin = () => {\r\n  return state.isLoggedIn && state.user && state.user.role_id === 2;\r\n};\r\n\r\n// ID\r\nconst getUserId = () => {\r\n  return state.user ? state.user.id : null;\r\n};\r\n\r\n// ID\r\nconst getUnitId = () => {\r\n  return state.user ? state.user.unit_id : null;\r\n};\r\n\r\n// \r\ninit();\r\n\r\nexport default {\r\n  state,\r\n  login,\r\n  logout,\r\n  isAdmin,\r\n  isUnitAdmin,\r\n  getUserId,\r\n  getUnitId\r\n};\r\n","import { render } from \"./AppHeader.vue?vue&type=template&id=ce673e6c&scoped=true\"\nimport script from \"./AppHeader.vue?vue&type=script&lang=js\"\nexport * from \"./AppHeader.vue?vue&type=script&lang=js\"\n\nimport \"./AppHeader.vue?vue&type=style&index=0&id=ce673e6c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ce673e6c\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=c0f1a378\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=c0f1a378&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport ElementPlus from 'element-plus'\r\nimport 'element-plus/dist/index.css'\r\nimport zhCn from 'element-plus/es/locale/lang/zh-cn'\r\nimport './styles/global.css'\r\nimport './assets/css/responsive.css'\r\n\r\nconst app = createApp(App)\r\n\r\napp.use(router)\r\napp.use(ElementPlus, {\r\n  locale: zhCn\r\n})\r\n\r\napp.mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkhazardous_waste_management_frontend\"] = self[\"webpackChunkhazardous_waste_management_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(4152); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_hoisted_1","$setup","showHeader","_createBlock","_component_app_header","key","_createCommentVNode","_createVNode","_component_router_view","class","_createElementVNode","auth","state","isLoggedIn","_hoisted_2","_hoisted_3","_createTextVNode","_toDisplayString","userName","_hoisted_4","user","role","unit_name","_hoisted_5","_component_el_button","type","onClick","handleLogout","default","_withCtx","_cache","_","API_BASE_URL","baseURL","endpoints","login","users","units","wasteTypes","wasteRecords","wasteRecordsByUnit","wasteRecordDetail","wasteRecordsByUser","exportWasteRecords","getUrl","endpoint","this","_Fragment","_renderList","$data","unit","_component_el_card","shadow","$event","$options","selectUnit","name","data","loading","created","fetchUnits","methods","console","log","response","axios","get","api","error","ElMessage","$router","push","params","__exports__","isAdmin","args","goBack","_component_el_icon","_component_arrow_left","viewRecords","_component_document","unitName","_component_el_form","ref","model","form","rules","_component_el_form_item","label","prop","_component_el_select","modelValue","wasteTypeId","placeholder","style","_component_el_option","value","_component_el_input","location","_hoisted_6","_component_el_date_picker","collectionDate","format","editable","teleported","_component_el_time_picker","collectionTime","prefix","_component_clock","_component_el_input_number","quantity","min","precision","step","onFocus","selectAllText","controls","showLargeFileWarning","_hoisted_7","_component_el_alert","title","closable","_component_el_upload","action","handlePhotoBeforeChange","handlePhotoBeforeRemove","fileListBefore","limit","multiple","handleBeforeUpload","accept","_component_plus","handlePhotoAfterChange","handlePhotoAfterRemove","fileListAfter","_hoisted_8","submitForm","resetForm","_component_el_dialog","showUploadProgress","width","_hoisted_9","_component_el_progress","percentage","uploadPercentage","percentageFormat","status","_hoisted_10","uploadStatus","components","ArrowLeft","Document","Plus","Clock","props","String","Number","required","setup","router","useRouter","wasteForm","photoFilesBefore","photoFilesAfter","computed","role_id","reactive","Date","toISOString","slice","undefined","photo_before","photo_after","message","trigger","onMounted","async","viewportMeta","document","createElement","setAttribute","head","appendChild","originalViewport","querySelector","remove","fetchUnitName","fetchWasteTypes","onBeforeUnmount","httpService","apiConfig","find","u","parseInt","acceptedTypes","isImage","includes","file","maxSize","size","largeFileThreshold","fileList","newFiles","filter","f","raw","some","pf","forEach","newFile","allFiles","checkForLargeFiles","uid","files","handleUploadProgress","progressEvent","total","Math","round","loaded","validate","valid","formData","FormData","append","creatorName","username","phone","creator_id","creator_name","unitId","length","index","postForm","success","warning","resetFields","event","setTimeout","target","inputEl","select","goHome","_component_home","addNewRecord","isUnitAdmin","goToUserManagement","_component_user","refreshRecords","_component_refresh","link","showFilterPanel","_component_arrow_up","_component_arrow_down","filterForm","_component_el_row","gutter","_component_el_col","xs","sm","md","lg","xl","dateRange","clearable","minQuantity","maxQuantity","applyFilter","resetFilter","_hoisted_11","_hoisted_12","_hoisted_13","exportRecords","_component_download","_component_el_table","filteredRecords","border","stripe","height","onScroll","handleScroll","_component_el_table_column","scope","parseFormattedDateTime","row","collection_start_time","parseFloat","toFixed","created_at","align","photo_path_before","_hoisted_14","parsePhotoPath","path","previewPhoto","_component_el_image","src","baseUrl","fit","_hoisted_15","_hoisted_16","_hoisted_17","photo_path_after","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","fixed","_hoisted_22","canEdit","editRecord","text","confirmDelete","loadingMore","_hoisted_23","_component_loading","records","_hoisted_24","_component_el_empty","description","showViewer","_component_el_image_viewer","previewImages","previewIndex","onClose","closeViewer","exportToExcel","fileName","headers","safeFileName","fileNameWithExtension","csvContent","headerRow","map","header","join","item","field","replace","blob","Blob","url","URL","createObjectURL","visibility","body","click","removeChild","revokeObjectURL","Home","Refresh","User","ArrowDown","ArrowUp","Download","ElImageViewer","Loading","startsWith","endsWith","JSON","parse","page","pageSize","hasMore","Array","isArray","record","waste_type_id","toLowerCase","startDate","endDate","setHours","recordDate","dateTimeStr","date","getFullYear","getMonth","padStart","getDate","getHours","getMinutes","fetchRecords","getUnitId","recordId","unit_id","userId","getUserId","ElMessageBox","confirm","confirmButtonText","cancelButtonText","then","delete","catch","info","stringify","dataToExport","waste_type_name","paths","photoArray","isLoadMore","Error","e","scrollHeight","scrollTop","clientHeight","onSubmit","_withModifiers","showPassword","password","_component_el_radio_group","userType","onChange","handleUserTypeChange","_component_el_radio","_component_el_checkbox","rememberMe","loginForm","phoneRules","pattern","passwordRules","clearValidate","doLogin","result","isNew","isSuperAdmin","handlePictureCardPreview","_component_el_collapse","_component_el_collapse_item","route","useRoute","recordForm","submitting","createdAt","parsed","split","p","trim","creatorId","remarks","fetchRecordDetails","dateTime","toTimeString","photoPaths","fullUrl","cleanPath","substring","window","origin","pop","updatePreviewImages","originFileObj","_blobUrl","File","findIndex","blobUrl","existingFiles","existingPaths","entries","putForm","openAddDialog","handleEdit","_component_el_popconfirm","onConfirm","handleDelete","reference","dialogVisible","isEdit","footer","formLoading","roleId","disabled","userForm","currentUnitId","max","fetchUsers","errorMsg","userData","put","post","back","span","getPhotosByType","photos","photo","formattedDateTime","cleanedStr","Promise","all","formattedRecords","formatDateTime","toLocaleString","year","month","day","hour","minute","hour12","allRecords","exportHeaders","wasteType","element","routes","component","Login","meta","requiresAuth","UserManagement","requiresManager","UnitSelection","requiresSuperAdmin","AdminRecords","EditRecord","WasteForm","RecordsList","createRouter","history","createWebHistory","process","beforeEach","to","from","next","matched","axiosInstance","create","timeout","maxContentLength","maxBodyLength","interceptors","request","use","config","token","localStorage","getItem","sessionStorage","Authorization","reject","logout","onUploadProgress","defaults","defaultState","init","savedUser","savedToken","common","removeItem","postData","setItem","AppHeader","render","app","createApp","App","ElementPlus","locale","zhCn","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","d","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}